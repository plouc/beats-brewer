{"version":3,"sources":["audio/tr808/tr808_bass_drum_001.wav","audio/tr808/tr808_bass_drum_002.wav","audio/tr808/tr808_snare_001.wav","audio/tr808/tr808_snare_002.wav","audio/tr808/tr808_clap_001.wav","audio/tr808/tr808_clap_002.wav","audio/tr808/tr808_rimshot_001.wav","audio/tr808/tr808_rimshot_002.wav","audio/tr808/tr808_hihat_open_001.wav","audio/tr808/tr808_hihat_open_002.wav","audio/tr808/tr808_hihat_closed_001.wav","audio/tr808/tr808_hihat_closed_002.wav","audio/tr808/tr808_congas_low_001.wav","audio/tr808/tr808_congas_low_002.wav","audio/tr808/tr808_congas_high_001.wav","audio/tr808/tr808_congas_high_002.wav","ui/theme/GlobalStyle.ts","ui/Spacer.tsx","ui/controls/Select.tsx","ui/controls/HardwareButton.tsx","ui/controls/RoundIconButton.tsx","ui/LCDScreen.tsx","ui/skins/flat/FlatEnclosure.tsx","ui/skins/flat/flatSkin.ts","ui/skins/racks/RackEnclosure.tsx","ui/skins/racks/racksSkin.ts","ui/theme/darkTheme.ts","ui/theme/lightTheme.ts","ui/theme/blackTheme.ts","ui/theme/generateMonochromeTheme.ts","ui/theme/monoBlueTheme.ts","ui/theme/monoPinkTheme.ts","ui/theme/monoRedTheme.ts","ui/theme/monoYellowTheme.ts","ui/skins/skins.ts","useApp.ts","ui/BpmControl.tsx","ui/skins/SkinSelector.tsx","ui/AppHeader.tsx","library/samples.ts","library/demoProject.ts","library/demoProjects.ts","library/drumKits.ts","explorer/ExplorerFolder.tsx","explorer/ExplorerItem.tsx","explorer/ExplorerSectionTitle.tsx","explorer/Explorer.tsx","ui/Desk.tsx","ui/Enclosure.tsx","ui/ComponentHeader.tsx","ui/ComponentName.tsx","sequencer/SequencerBars.tsx","playlist/PlaylistPattern.tsx","playlist/PlaylistPatterns.tsx","playlist/PlaylistTracks.tsx","playlist/PlaylistGrid.tsx","playlist/Playlist.tsx","ui/controls/SquareIconButton.tsx","ui/controls/PlayerControls.tsx","sequencer/SequencerHeader.tsx","mixer/MixerChannelSelector.tsx","sequencer/TrackHeading.tsx","sequencer/SequencerTimeline.tsx","sequencer/TrackSteps.tsx","sequencer/SequencerTracks.tsx","sequencer/Sequencer.tsx","sequencer/useStepSequencer.ts","ui/Modal.tsx","ui/hooks/useEventListener.ts","ui/controls/CloseButton.tsx","effects/AddEffect.tsx","mixer/MixerChannelEffects.tsx","ui/controls/useControlScale.ts","ui/controls/Knob.tsx","mixer/MixerChannel.tsx","mixer/Mixer.tsx","effects/EffectHeader.tsx","ui/controls/NumberInput.tsx","ui/controls/Slider.tsx","ui/hooks/useMeasure.ts","effects/EffectControlLabel.tsx","effects/EffectControlWithSlider.tsx","effects/EffectWetControl.tsx","effects/ReverbControls.tsx","effects/DistortionControls.tsx","effects/EffectsControls.tsx","ui/WelcomeModal.tsx","DemoComponents.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["GlobalStyle","createGlobalStyle","props","theme","typography","monospacedFont","colors","background","text","SpacerHorizontal","styled","span","size","HSpacer","SpacerVertical","VSpacer","Select","select","enclosure","darken","rgba","lighten","HardwareButton","hasPrevious","hasNext","isInactive","css","textLight","isPressed","mix","backgroundLight","innerCastShadowColorDark","backgroundDark","innerCastShadowColorLight","innerCastShadowColor","RoundIconButton","LCDScreen","div","lcd","border","LCDScreenHighlightedText","textHighlight","shadows","lcdTextHighlight","Container","sideThickness","sizes","enclosureBorderRadius","castShadow","Side","alternateMaterial","Body","flatSkin","children","Top","Bottom","racksSkin","accent","darkTheme","id","name","headingFont","mainGap","backgroundAlt","lightTheme","blackTheme","textColors","light","main","dark","generateMonochromeTheme","color","colorName","textColor","monoBlueTheme","monoPinkTheme","monoRedTheme","monoYellowTheme","skins","DEFAULT_BPM","useAppStore","create","set","get","skin","setSkin","bpm","setBpm","Tone","value","createEmptyProject","project","uuidV4","tracks","patterns","channels","openedPatternId","loadProject","projectData","currentProject","undefined","projectChannels","master","newChannels","allEffects","forEach","channel","channelIndex","destination","effects","projectChannel","effect","type","console","log","decay","preDelay","wet","reverb","connect","push","instance","distortion","chain","map","join","computeChannels","patternData","trackData","Error","trackPlayer","audioFile","player","length","openPattern","patternId","find","p","closePattern","setSequencerPatternTracks","pattern","toDestination","sources","highlightedChannel","highlightChannel","openedEffects","openEffect","effectId","e","closeEffect","filter","addEffectToChannel","effectType","acronym","Number","lastEffect","disconnect","chan","index","genresBpm","BpmControl","state","handleMinus","useCallback","Math","max","handlePlus","min","handleSelect","event","target","currentGenre","onClick","Screen","Current","toFixed","padStart","onChange","genre","genreBpm","SkinSelector","currentSkin","newSkin","t","Label","htmlFor","label","AppHeader","AppName","Controls","tr808BassDrum1","require","default","tr808BassDrum2","tr808Snare1","tr808Snare2","tr808Clap1","tr808Clap2","tr808Rimshot1","tr808Rimshot2","tr808HiHatOpen1","tr808HiHatOpen2","tr808HiHatClosed1","tr808HiHatClosed2","tr808CongasLow1","tr808CongasLow2","tr808CongasHigh1","tr808CongasHigh2","kickColor","snareColor","clapColor","rimshotColor","hiHatColor","congasColor","samples","sampleByName","sampleName","sample","s","drumsCongasOnly","isMuted","steps","drumsCongasPlusKick","drumsCongasPlusKickPlusClap","demoProjects","start","end","drumKits","ExplorerFolder","title","defaultIsOpen","useState","isOpen","setIsOpen","toggle","previous","Header","ExplorerItem","icon","count","ExplorerItemContainer","ExplorerIcon","createElement","ExplorerLabel","ExplorerCount","ExplorerSectionTitle","Icon","Explorer","SubTitle","BsGrid3X2GapFill","BiBox","FaDrum","drumKit","FaWaveSquare","h2","Desk","Enclosure","ComponentHeader","ComponentName","ComponentNameHighlight","SequencerBars","isSelected","ticks","bars","setBars","SquareIconButton","PlayerControls","isPlaying","play","stop","SequencerHeader","doubleBars","MixerChannelSelector","handleUp","handleDown","Button","TrackHeading","track","toggleTrack","handleMouseEnter","handleMouseLeave","handleToggle","TrackHeadingContainer","onMouseEnter","onMouseLeave","TrackName","MuteIcon","SequencerTimeline","current","stepIndexes","useMemo","Array","from","_","isCurrent","Step","TrackSteps","currentStep","toggleStep","Grid","step","isActive","onToggle","StepElement","isOdd","SequencerTracks","Sequencer","stepIndex","setStepIndex","setPatternTracks","setTracks","setBarsAndAdjustTracks","newBars","newStepCount","newSteps","slice","i","trackId","setIsPlaying","tracksRef","useRef","useEffect","tick","time","schedule","sequence","dispose","useStepSequencer","TrackHeadings","Modal","eventType","listener","onClose","shouldCloseOnOutsideClick","shouldCloseOnEscKey","onKeydown","key","document","window","addEventListener","removeEventListener","handleOverlayClick","preventClosePropagation","stopPropagation","createPortal","Overlay","body","CloseButton","AddEffect","openModal","closeModal","addEffect","addDistortion","addReverb","Content","MixerChannelEffects","effectIndex","EffectLabel","EffectOutput","useControlScale","domain","range","isValid","tickStep","majorTickStep","domainMin","domainMax","rangeMin","rangeMax","scale","linearScale","scaleLinear","clamp","tickValue","Knob","angleStart","angleEnd","rotation","radius","TICK_SIZE","OUTER_CIRCLE_THICKNESS","TICK_PADDING","tickY","Layer","OuterCircle","MainCircle","Svg","width","height","transform","Indicator","cx","cy","r","tickAngle","isMajor","y1","y2","y","style","fontSize","textAnchor","svg","circle","Tick","line","MixerChannel","isHighlighted","mute","setIsMuted","toggleMute","ChannelName","ChannelNameIcon","ValueLabel","ValueScreen","volume","pan","Mixer","Channels","EffectHeader","handleClose","EffectType","NumberInput","input","Slider","precision","requestAnimationFrameRef","measureRef","left","top","bounds","setBounds","ResizeObserver","entry","requestAnimationFrame","contentRect","observer","useLayoutEffect","observe","cancelAnimationFrame","useMeasure","setIsActive","activate","deactivate","setValueFromPosition","position","clampedPosition","newValue","floor","invert","handleMouseMove","xOrigin","pageXOffset","getBoundingClientRect","pageX","documentMouseMoveListener","documentMouseUpListener","TrackContainer","ref","TrackFill","x","onMouseDown","Ticks","tickX","Track","EffectControlLabel","EffectControlWithSlider","slider","SliderContainer","EffectWetControl","setWet","handleValueChange","handleChange","ReverbControls","setPreDelay","handlePreDelayChange","newPreDelay","setDecay","handleDecayChange","newDecay","Knobs","Column","KnobContainer","DistortionControls","distortionEffect","setDistortion","handleDistortionValueChange","handleDistortionChange","EffectsControls","WelcomeModal","openDemoProject","Message","OpenDemoProjectContainer","href","rel","App","openedPattern","Layout","Row","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.95f6f738.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/tr808_bass_drum_001.6bff9155.wav\";","export default __webpack_public_path__ + \"static/media/tr808_bass_drum_002.aa0b9aac.wav\";","export default __webpack_public_path__ + \"static/media/tr808_snare_001.f857353c.wav\";","export default __webpack_public_path__ + \"static/media/tr808_snare_002.56130b54.wav\";","export default __webpack_public_path__ + \"static/media/tr808_clap_001.e59bafa0.wav\";","export default __webpack_public_path__ + \"static/media/tr808_clap_002.9e9fbf74.wav\";","export default __webpack_public_path__ + \"static/media/tr808_rimshot_001.60210f1f.wav\";","export default __webpack_public_path__ + \"static/media/tr808_rimshot_002.f1681fd2.wav\";","export default __webpack_public_path__ + \"static/media/tr808_hihat_open_001.1c39c77d.wav\";","export default __webpack_public_path__ + \"static/media/tr808_hihat_open_002.5dae54ca.wav\";","export default __webpack_public_path__ + \"static/media/tr808_hihat_closed_001.8f60c1ec.wav\";","export default __webpack_public_path__ + \"static/media/tr808_hihat_closed_002.22d20eb5.wav\";","export default __webpack_public_path__ + \"static/media/tr808_congas_low_001.0dfd9493.wav\";","export default __webpack_public_path__ + \"static/media/tr808_congas_low_002.8a26053a.wav\";","export default __webpack_public_path__ + \"static/media/tr808_congas_high_001.e46317dd.wav\";","export default __webpack_public_path__ + \"static/media/tr808_congas_high_002.f0e1cdca.wav\";","import { createGlobalStyle } from 'styled-components/macro'\n\nexport const GlobalStyle = createGlobalStyle`\n    body, html {\n        font-family: ${(props) => props.theme.typography.monospacedFont};\n        text-rendering: optimizeLegibility;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        background-color: ${(props) => props.theme.colors.background};\n        color: ${(props) => props.theme.colors.text};\n    }\n    \n    *, *:after, *:before {\n        box-sizing: border-box;\n    }\n    \n    a {\n        color: inherit;\n    }\n`\n","import styled from 'styled-components/macro'\n\ninterface SpacerProps {\n    size?: 'xsmall' | 'small' | 'medium' | 'large'\n}\n\nconst SpacerHorizontal = styled.span<{\n    size: SpacerProps['size']\n}>`\n    display: inline-block;\n    width: ${({ size }) => {\n        if (size === 'xsmall') return 6\n        if (size === 'small') return 12\n        if (size === 'large') return 36\n        return 24\n    }}px;\n    height: 6px;\n`\n\nexport const HSpacer = ({ size = 'medium' }: SpacerProps) => <SpacerHorizontal size={size} />\n\nconst SpacerVertical = styled.span<{\n    size: SpacerProps['size']\n}>`\n    display: block;\n    height: ${({ size }) => {\n        if (size === 'xsmall') return 4\n        if (size === 'small') return 6\n        if (size === 'large') return 24\n        return 12\n    }}px;\n`\n\nexport const VSpacer = ({ size = 'medium' }: SpacerProps) => <SpacerVertical size={size} />\n","import styled from 'styled-components'\nimport { darken, lighten, rgba } from 'polished'\n\nexport const Select = styled.select`\n    height: 32px;\n    font-size: 12px;\n    color: inherit;\n    padding: 4px 7px;\n    border-radius: 2px;\n    background-color: ${(props) => props.theme.enclosure.background};\n    border: 1px solid ${(props) => darken(0.08, props.theme.enclosure.background)};\n    cursor: pointer;\n    font-family: ${(props) => props.theme.typography.monospacedFont};\n    box-shadow: 0 1px 2px ${(props) => rgba(darken(0.1, props.theme.enclosure.background), 0.35)};\n\n    &:focus {\n        cursor: auto;\n        outline: 0;\n        background-color: ${(props) => lighten(0.03, props.theme.enclosure.background)};\n    }\n`\n","import styled, { css } from 'styled-components/macro'\nimport { lighten, darken, rgba, mix } from 'polished'\n\nexport const HardwareButton = styled.span<{\n    isPressed?: boolean\n    isInactive?: boolean\n    hasNext?: boolean\n    hasPrevious?: boolean\n}>`\n    position: relative;\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0 11px;\n    font-family: ${(props) => props.theme.typography.monospacedFont};\n    font-size: 11px;\n    height: 26px;\n    cursor: pointer;\n    user-select: none;\n\n    border-radius: ${(props) => {\n        if (props.hasPrevious && props.hasNext) return 0\n        if (props.hasPrevious) return `0 2px 2px 0`\n        if (props.hasNext) return `2px 0 0 2px`\n        return `2px`\n    }};\n\n    ${({ theme, isInactive }) => {\n        if (isInactive) {\n            return css`\n                color: ${theme.colors.textLight};\n\n                &:hover {\n                    color: ${theme.colors.text};\n                }\n            `\n        }\n\n        return css`\n            color: ${theme.colors.text};\n        `\n    }};\n\n    ${({ theme, isPressed }) => {\n        if (isPressed) {\n            return css`\n                background: linear-gradient(\n                    180deg,\n                    ${darken(0.01, theme.enclosure.background)},\n                    ${theme.enclosure.background}\n                );\n                box-shadow: inset 0 1px 0 ${darken(0.06, theme.enclosure.background)},\n                    inset 0 2px 0 ${darken(0.08, theme.enclosure.background)},\n                    inset 0 4px 4px ${rgba(darken(0.2, theme.enclosure.background), 0.25)},\n                    0 0 0 1px ${lighten(0.02, theme.enclosure.background)};\n            `\n        }\n\n        return css`\n            background-color: ${theme.enclosure.background};\n            background-image: linear-gradient(\n                180deg,\n                ${mix(0.6, theme.enclosure.background, theme.enclosure.backgroundLight)},\n                ${theme.enclosure.background}\n            );\n            box-shadow: 0 0 0 1px ${theme.enclosure.innerCastShadowColorDark},\n                inset 0 1px 0 ${theme.enclosure.backgroundLight},\n                inset 0 -1px 0 ${theme.enclosure.backgroundDark},\n                0 3px 3px ${theme.enclosure.innerCastShadowColorLight};\n\n            &:hover {\n                background-color: ${lighten(0.02, theme.enclosure.background)};\n                box-shadow: 0 0 0 1px ${theme.enclosure.innerCastShadowColor},\n                    inset 0 1px 0 ${lighten(0.06, theme.enclosure.backgroundLight)},\n                    inset 0 -1px 0 ${theme.enclosure.background},\n                    0 0 5px ${theme.enclosure.innerCastShadowColorLight};\n            }\n        `\n    }}\n`\n","import styled from 'styled-components/macro'\nimport { HardwareButton } from './HardwareButton'\n\nexport const RoundIconButton = styled(HardwareButton)<{\n    isPressed?: boolean\n    isInactive?: boolean\n    hasNext?: boolean\n    hasPrevious?: boolean\n}>`\n    padding: 0;\n    font-size: 12px;\n    width: 24px;\n    height: 24px;\n    border-radius: 12px;\n`\n","import styled from 'styled-components'\n\nexport const LCDScreen = styled.div`\n    background-color: ${(props) => props.theme.colors.lcd.background};\n    color: ${(props) => props.theme.colors.lcd.text};\n    box-shadow: inset 0 0 0 1px ${(props) => props.theme.colors.lcd.border},\n        0 2px 3px rgba(0, 0, 0, 0.1) inset;\n    border-radius: 3px;\n    font-family: 'VT323', monospace;\n    font-size: 16px;\n`\n\nexport const LCDScreenHighlightedText = styled.span`\n    color: ${(props) => props.theme.colors.lcd.textHighlight};\n    text-shadow: ${(props) => props.theme.shadows.lcdTextHighlight};\n`\n","import { PropsWithChildren } from 'react'\nimport styled from 'styled-components'\nimport { darken, lighten } from 'polished'\n\nexport const FlatEnclosure = ({ children }: PropsWithChildren<{}>) => {\n    return (\n        <Container>\n            <Side />\n            <Body>{children}</Body>\n            <Side />\n        </Container>\n    )\n}\n\nexport const Container = styled.div`\n    display: grid;\n    grid-template-columns: ${(props) => props.theme.enclosure.sideThickness}px auto ${(props) =>\n            props.theme.enclosure.sideThickness}px;\n    grid-column-gap: 1px;\n    border-radius: ${(props) => props.theme.sizes.enclosureBorderRadius}px;\n    box-shadow: ${(props) => props.theme.enclosure.castShadow};\n`\n\nconst Side = styled.div`\n    grid-row-start: 1;\n    grid-row-end: 4;\n    background-color: ${(props) => props.theme.colors.alternateMaterial.background};\n    box-shadow: inset -1px 0 0 ${(props) => props.theme.colors.alternateMaterial.backgroundDark},\n        inset 1px 0 0 ${(props) => props.theme.colors.alternateMaterial.backgroundLight};\n\n    &:first-child {\n        border-radius: ${(props) => props.theme.sizes.enclosureBorderRadius}px 1px 1px\n            ${(props) => props.theme.sizes.enclosureBorderRadius}px;\n        grid-column-start: 1;\n        grid-column-end: 2;\n    }\n\n    &:last-child {\n        border-radius: 1px ${(props) => props.theme.sizes.enclosureBorderRadius}px\n            ${(props) => props.theme.sizes.enclosureBorderRadius}px 1px;\n        grid-column-start: 3;\n        grid-column-end: 4;\n    }\n`\n\nconst Body = styled.div`\n    padding: 9px 12px 16px;\n    border-radius: 1px;\n    background-color: ${(props) => props.theme.enclosure.background};\n    box-shadow: inset 0 1px 0 ${(props) => props.theme.enclosure.backgroundLight},\n        inset 0 -1px 0 ${(props) => props.theme.enclosure.backgroundDark};\n`\n","import { Skin } from '../definitions'\nimport { FlatEnclosure } from './FlatEnclosure'\n\nexport const flatSkin: Omit<Skin, 'id' | 'name' | 'theme'> = {\n    enclosure: FlatEnclosure,\n}\n","import { PropsWithChildren } from 'react'\nimport styled from 'styled-components'\nimport { darken, lighten } from 'polished'\n\nexport const RackEnclosure = ({ children }: PropsWithChildren<{}>) => {\n    return (\n        <Container>\n            <Side />\n            <Top />\n            <Body>{children}</Body>\n            <Bottom />\n            <Side />\n        </Container>\n    )\n}\n\nexport const Container = styled.div`\n    display: grid;\n    grid-template-columns: ${(props) => props.theme.enclosure.sideThickness}px auto ${(props) =>\n            props.theme.enclosure.sideThickness}px;\n    grid-template-rows: 7px auto 14px;\n    border-radius: ${(props) => props.theme.sizes.enclosureBorderRadius}px;\n    background-color: ${(props) => props.theme.enclosure.background};\n    box-shadow: ${(props) => props.theme.enclosure.castShadow};\n`\n\nconst Side = styled.div`\n    grid-row-start: 1;\n    grid-row-end: 4;\n    background-color: ${(props) => props.theme.colors.alternateMaterial.background};\n    background: linear-gradient(\n        180deg,\n        ${(props) => lighten(0.02, props.theme.colors.alternateMaterial.background)},\n        ${(props) => props.theme.colors.alternateMaterial.background}\n    );\n    box-shadow: inset -1px 0 0 ${(props) => props.theme.colors.alternateMaterial.backgroundDark},\n        inset 1px 0 0 ${(props) => props.theme.colors.alternateMaterial.backgroundLight},\n        inset 0 11px 0 ${(props) => props.theme.colors.alternateMaterial.backgroundLight},\n        inset 0 12px 0\n            ${(props) => lighten(0.08, props.theme.colors.alternateMaterial.backgroundLight)},\n        inset 0 -23px 0 ${(props) => props.theme.colors.alternateMaterial.backgroundDark},\n        inset 0 -24px 0 ${(props) => darken(0.04, props.theme.colors.alternateMaterial.backgroundDark)};\n\n    &:first-child {\n        border-radius: ${(props) => props.theme.sizes.enclosureBorderRadius}px 0 0\n            ${(props) => props.theme.sizes.enclosureBorderRadius}px;\n        grid-column-start: 1;\n        grid-column-end: 2;\n    }\n\n    &:last-child {\n        border-radius: 0 ${(props) => props.theme.sizes.enclosureBorderRadius}px\n            ${(props) => props.theme.sizes.enclosureBorderRadius}px 0;\n        grid-column-start: 3;\n        grid-column-end: 4;\n    }\n`\n\nconst Top = styled.div`\n    background-color: ${(props) => props.theme.enclosure.backgroundLight};\n    background: linear-gradient(\n        180deg,\n        ${(props) => darken(0.04, props.theme.enclosure.backgroundLight)},\n        ${(props) => props.theme.enclosure.backgroundLight}\n    );\n    box-shadow: inset 3px 0 0 ${(props) => props.theme.enclosure.innerCastShadowColorLight},\n        inset -2px 0 0 ${(props) => props.theme.enclosure.innerCastShadowColorLight},\n        inset 0 -1px 0 ${(props) => props.theme.enclosure.background};\n`\n\nconst Bottom = styled.div`\n    background-color: ${(props) => props.theme.enclosure.backgroundDark};\n    background: linear-gradient(\n        180deg,\n        ${(props) => props.theme.enclosure.backgroundDark},\n        ${(props) => lighten(0.02, props.theme.enclosure.backgroundDark)}\n    );\n    box-shadow: inset 3px 0 0 ${(props) => props.theme.enclosure.innerCastShadowColorDark},\n        inset -2px 0 0 ${(props) => props.theme.enclosure.innerCastShadowColorDark},\n        inset 0 1px 0 ${(props) => props.theme.enclosure.background};\n`\n\nconst Body = styled.div`\n    padding: 9px 12px;\n    box-shadow: inset 3px 0 0 ${(props) => props.theme.enclosure.innerCastShadowColor},\n        inset -2px 0 0 ${(props) => props.theme.enclosure.innerCastShadowColor},\n        inset 0 1px 0 ${(props) => props.theme.enclosure.backgroundLight},\n        inset 0 -1px 0 ${(props) => props.theme.enclosure.backgroundDark};\n`\n","import { Skin } from '../definitions'\nimport { RackEnclosure } from './RackEnclosure'\n\nexport const racksSkin: Omit<Skin, 'id' | 'name' | 'theme'> = {\n    enclosure: RackEnclosure,\n}\n","import { DefaultTheme } from 'styled-components'\nimport { darken, rgba } from 'polished'\n\nconst colors: DefaultTheme['colors'] = {\n    background: '#242425',\n    text: '#ffffff',\n    textLight: '#888888',\n    accent: '#7bb392',\n    lcd: {\n        background: '#4c151a',\n        border: '#311716',\n        text: '#a14638',\n        textHighlight: '#dd6755',\n    },\n    alternateMaterial: {\n        background: '#402a1a',\n        backgroundLight: '#573924',\n        backgroundDark: '#362418',\n    },\n}\n\nexport const darkTheme: DefaultTheme = {\n    id: 'dark',\n    name: 'Dark Theme',\n    typography: {\n        headingFont: `'Montserrat', sans-serif`,\n        monospacedFont: `'IBM Plex Mono', monospace`,\n    },\n    colors,\n    sizes: {\n        mainGap: 8,\n        enclosureBorderRadius: 2,\n    },\n    shadows: {\n        lcdTextHighlight: `0 0 6px ${rgba(colors.lcd.textHighlight, 0.6)}`,\n    },\n    enclosure: {\n        background: '#2d2d2d',\n        backgroundLight: '#393939',\n        backgroundDark: '#242424',\n        backgroundAlt: '#242424',\n        border: '#242425',\n        castShadow: `0 1px 2px ${rgba(darken(0.2, colors.background), 0.15)},\n            1px 2px 5px ${rgba(darken(0.2, colors.background), 0.15)},\n            3px 6px 12px ${rgba(darken(0.2, colors.background), 0.25)}`,\n        innerCastShadowColor: rgba(darken(0.2, '#2d2d2d'), 0.15),\n        innerCastShadowColorLight: rgba(darken(0.2, '#2d2d2d'), 0.1),\n        innerCastShadowColorDark: rgba(darken(0.2, '#2d2d2d'), 0.2),\n        sideThickness: 12,\n    },\n}\n","import { DefaultTheme } from 'styled-components'\n\nconst colors: DefaultTheme['colors'] = {\n    background: '#a3aaa9',\n    text: '#000000',\n    textLight: '#333333',\n    accent: '#2b808e',\n    lcd: {\n        background: '#adab9d',\n        border: '#89887b',\n        text: '#5f5f55',\n        textHighlight: '#36362f',\n    },\n    alternateMaterial: {\n        background: '#b19b7f',\n        backgroundLight: '#c4ad8f',\n        backgroundDark: '#928069',\n    },\n}\n\nexport const lightTheme: DefaultTheme = {\n    id: 'light',\n    name: 'Light Theme',\n    typography: {\n        headingFont: `'Montserrat', sans-serif`,\n        monospacedFont: `'IBM Plex Mono', monospace`,\n    },\n    colors,\n    sizes: {\n        mainGap: 1,\n        enclosureBorderRadius: 0,\n    },\n    shadows: {\n        lcdTextHighlight: 'none',\n    },\n    enclosure: {\n        background: '#c1c7c7',\n        backgroundLight: '#d8dcdc',\n        backgroundDark: '#adb3b3',\n        backgroundAlt: '#b7bdbd',\n        border: '#b4bbbb',\n        castShadow: `0 1px 1px rgba(0, 0, 0, 0.15),\n            1px 5px 8px rgba(0, 0, 0, 0.1)`,\n        innerCastShadowColor: `rgba(0, 0, 0, 0.1)`,\n        innerCastShadowColorLight: `rgba(0, 0, 0, 0.05)`,\n        innerCastShadowColorDark: `rgba(0, 0, 0, 0.15)`,\n        sideThickness: 12,\n    },\n}\n","import { DefaultTheme } from 'styled-components'\nimport { darken, rgba } from 'polished'\n\nconst colors: DefaultTheme['colors'] = {\n    background: '#000000',\n    text: '#cccccc',\n    textLight: '#888888',\n    accent: '#eeeeee',\n    lcd: {\n        background: '#000000',\n        border: '#000000',\n        text: '#888888',\n        textHighlight: '#eeeeee',\n    },\n    alternateMaterial: {\n        background: '#111111',\n        backgroundLight: '#222222',\n        backgroundDark: '#000000',\n    },\n}\n\nexport const blackTheme: DefaultTheme = {\n    id: 'black',\n    name: 'Black Theme',\n    typography: {\n        headingFont: `'Montserrat', sans-serif`,\n        monospacedFont: `'IBM Plex Mono', monospace`,\n    },\n    colors,\n    sizes: {\n        mainGap: 2,\n        enclosureBorderRadius: 4,\n    },\n    shadows: {\n        lcdTextHighlight: `0 0 6px ${rgba(colors.lcd.textHighlight, 0.6)}`,\n    },\n    enclosure: {\n        background: '#111111',\n        backgroundLight: '#222222',\n        backgroundDark: '#000000',\n        backgroundAlt: '#111111',\n        border: '#242425',\n        castShadow: `0 1px 2px ${rgba(darken(0.2, colors.background), 0.15)},\n            1px 2px 5px ${rgba(darken(0.2, colors.background), 0.15)},\n            3px 6px 12px ${rgba(darken(0.2, colors.background), 0.25)}`,\n        innerCastShadowColor: rgba(darken(0.2, '#2d2d2d'), 0.15),\n        innerCastShadowColorLight: rgba(darken(0.2, '#2d2d2d'), 0.1),\n        innerCastShadowColorDark: rgba(darken(0.2, '#2d2d2d'), 0.2),\n        sideThickness: 12,\n    },\n}\n","import { DefaultTheme } from 'styled-components'\nimport { darken, lighten, rgba } from 'polished'\n\nconst textColors = {\n    light: {\n        main: '#fff',\n        light: '#ccc',\n    },\n    dark: {\n        main: '#000',\n        light: '#222',\n    },\n} as const\n\nexport const generateMonochromeTheme = (\n    color: string,\n    colorName: string,\n    text: keyof typeof textColors\n): DefaultTheme => {\n    const textColor = textColors[text]\n\n    return {\n        id: `mono:${colorName}`,\n        name: `mono: ${colorName}`,\n        typography: {\n            headingFont: `'Montserrat', sans-serif`,\n            monospacedFont: `'IBM Plex Mono', monospace`,\n        },\n        colors: {\n            background: darken(0.3, color),\n            text: textColor.main,\n            textLight: textColor.light,\n            accent: textColor.main,\n            lcd: {\n                background: darken(0.06, color),\n                border: lighten(0.03, color),\n                text: textColor.light,\n                textHighlight: textColor.main,\n            },\n            alternateMaterial: {\n                background: '#888888',\n                backgroundLight: '#b6b6b6',\n                backgroundDark: '#6a6a6a',\n            },\n        },\n        sizes: {\n            mainGap: 2,\n            enclosureBorderRadius: 1,\n        },\n        shadows: {\n            lcdTextHighlight: 'none',\n        },\n        enclosure: {\n            background: color,\n            backgroundLight: lighten(0.08, color),\n            backgroundDark: darken(0.08, color),\n            backgroundAlt: lighten(0.04, color),\n            border: color,\n            castShadow: `0 3px 0 2px ${darken(0.35, color)}`,\n            innerCastShadowColor: rgba(darken(0.8, color), 0.16),\n            innerCastShadowColorLight: rgba(darken(0.8, color), 0.12),\n            innerCastShadowColorDark: rgba(darken(0.8, color), 0.2),\n            sideThickness: 8,\n        },\n    }\n}\n","import { generateMonochromeTheme } from './generateMonochromeTheme'\n\nexport const monoBlueTheme = generateMonochromeTheme('#066fa1', 'blue', 'light')\n","import { generateMonochromeTheme } from './generateMonochromeTheme'\n\nexport const monoPinkTheme = generateMonochromeTheme('#b87e87', 'pink', 'dark')\n","import { generateMonochromeTheme } from './generateMonochromeTheme'\n\nexport const monoRedTheme = generateMonochromeTheme('#a82222', 'red', 'light')\n","import { generateMonochromeTheme } from './generateMonochromeTheme'\n\nexport const monoYellowTheme = generateMonochromeTheme('#b18226', 'yellow', 'dark')\n","import { Skin } from './definitions'\nimport { flatSkin } from './flat/flatSkin'\nimport { racksSkin } from './racks/racksSkin'\nimport { darkTheme } from '../theme/darkTheme'\nimport { lightTheme } from '../theme/lightTheme'\nimport { blackTheme } from '../theme/blackTheme'\nimport { monoBlueTheme } from '../theme/monoBlueTheme'\nimport { monoPinkTheme } from '../theme/monoPinkTheme'\nimport { monoRedTheme } from '../theme/monoRedTheme'\nimport { monoYellowTheme } from '../theme/monoYellowTheme'\n\nexport const skins: Skin[] = [\n    {\n        ...racksSkin,\n        id: 'racks:dark',\n        name: 'Racks Dark',\n        theme: darkTheme,\n    },\n    {\n        ...racksSkin,\n        id: 'racks:light',\n        name: 'Racks Light',\n        theme: lightTheme,\n    },\n    {\n        ...racksSkin,\n        id: 'racks:black',\n        name: 'Racks Black',\n        theme: blackTheme,\n    },\n    {\n        ...racksSkin,\n        id: 'racks:blue',\n        name: 'Racks Blue',\n        theme: monoBlueTheme,\n    },\n    {\n        ...racksSkin,\n        id: 'racks:pink',\n        name: 'Racks Pink',\n        theme: monoPinkTheme,\n    },\n    {\n        ...racksSkin,\n        id: 'racks:red',\n        name: 'Racks Red',\n        theme: monoRedTheme,\n    },\n    {\n        ...racksSkin,\n        id: 'racks:yellow',\n        name: 'Racks Yellow',\n        theme: monoYellowTheme,\n    },\n    {\n        ...flatSkin,\n        id: 'flat:dark',\n        name: 'Flat Dark',\n        theme: darkTheme,\n    },\n    {\n        ...flatSkin,\n        id: 'flat:light',\n        name: 'Flat Light',\n        theme: lightTheme,\n    },\n    {\n        ...flatSkin,\n        id: 'flat:black',\n        name: 'Flat Black',\n        theme: blackTheme,\n    },\n    {\n        ...flatSkin,\n        id: 'flat:blue',\n        name: 'Flat Blue',\n        theme: monoBlueTheme,\n    },\n    {\n        ...flatSkin,\n        id: 'flat:pink',\n        name: 'Flat Pink',\n        theme: monoPinkTheme,\n    },\n    {\n        ...flatSkin,\n        id: 'flat:red',\n        name: 'Flat Red',\n        theme: monoRedTheme,\n    },\n    {\n        ...flatSkin,\n        id: 'flat:yellow',\n        name: 'Flat Yellow',\n        theme: monoYellowTheme,\n    },\n]\n","import create from 'zustand'\nimport * as Tone from 'tone'\nimport { v4 as uuidV4 } from 'uuid'\nimport {\n    ProjectData,\n    Project,\n    Channel,\n    ChannelData,\n    SequencerPatternTrack,\n} from './project/definitions'\nimport { Effect, EffectType } from './effects/definitions'\nimport { Skin } from './ui/skins/definitions'\nimport { skins } from './ui/skins/skins'\n\ninterface AppStore {\n    skin: Skin\n    setSkin: (skin: Skin) => void\n    bpm: number\n    setBpm: (bpm: number) => void\n    project?: Project\n    createEmptyProject: () => void\n    loadProject: (projectData: ProjectData) => void\n    openedPatternId: string | null\n    openPattern: (patternId: string) => void\n    closePattern: (patternId: string) => void\n    setSequencerPatternTracks: (patternId: string, tracks: SequencerPatternTrack[]) => void\n    master: Tone.Channel\n    channels: Channel[]\n    highlightedChannel: number\n    highlightChannel: (channelIndex: number) => void\n    allEffects: Effect[]\n    openedEffects: Effect[]\n    openEffect: (effectId: string) => void\n    closeEffect: (effectId: string) => void\n    addEffectToChannel: (effectType: EffectType, channelIndex: number) => void\n    tracks: any[]\n}\n\nconst DEFAULT_BPM = 130\n\nconst computeChannels = (\n    channels: Channel[],\n    projectChannels: ChannelData[],\n    master: Tone.Channel\n): [Channel[], Effect[]] => {\n    const newChannels: Channel[] = []\n    let allEffects: Effect[] = []\n\n    channels.forEach((channel, channelIndex) => {\n        let destination: Tone.ToneAudioNode = master\n        let effects: Effect[] = []\n\n        const projectChannel = projectChannels[channelIndex]\n\n        if (projectChannel !== undefined) {\n            projectChannel.effects.forEach((effect) => {\n                if (effect.type === 'reverb') {\n                    console.log(\n                        `[effect] reverb on channel ${channelIndex} (decay: ${effect.decay}, preDelay: ${effect.preDelay},  wet: ${effect.wet})`\n                    )\n\n                    const reverb = new Tone.Reverb(effect.decay)\n                    reverb.preDelay = effect.preDelay\n                    reverb.wet.value = effect.wet\n\n                    reverb.connect(destination)\n                    destination = reverb\n\n                    effects.push({ ...effect, instance: reverb })\n                } else if (effect.type === 'distortion') {\n                    console.log(\n                        `[effect] distortion on channel ${channelIndex} (distortion: ${effect.distortion},  wet: ${effect.wet})`\n                    )\n\n                    const distortion = new Tone.Distortion(effect.distortion)\n                    distortion.wet.value = effect.wet\n\n                    distortion.connect(destination)\n                    destination = distortion\n\n                    effects.push({ ...effect, instance: distortion })\n                }\n            })\n        }\n\n        channel.channel.connect(destination)\n\n        const chain = ['master', ...effects.map((effect) => effect.type)]\n        console.log(`[connected] channel ${channelIndex} | ${chain.join(' <- ')}`)\n\n        newChannels.push({\n            ...channel,\n            effects,\n        })\n        allEffects = [...allEffects, ...effects]\n    })\n\n    return [newChannels, allEffects]\n}\n\nexport const useAppStore = create<AppStore>((set, get) => ({\n    skin: skins[0],\n    setSkin: (skin: Skin) => set({ skin }),\n    bpm: DEFAULT_BPM,\n    setBpm: (bpm: number) => {\n        Tone.Transport.bpm.value = bpm\n        set({ bpm })\n    },\n    createEmptyProject: () => {\n        Tone.start()\n        Tone.Transport.bpm.value = DEFAULT_BPM\n        set({\n            bpm: DEFAULT_BPM,\n            project: {\n                id: uuidV4(),\n                name: 'New Project',\n                bpm: DEFAULT_BPM,\n                tracks: [\n                    {\n                        patterns: [],\n                    },\n                    {\n                        patterns: [],\n                    },\n                    {\n                        patterns: [],\n                    },\n                    {\n                        patterns: [],\n                    },\n                ],\n                patterns: [],\n                channels: [],\n            },\n            openedPatternId: null,\n        })\n    },\n    loadProject: (projectData: ProjectData) => {\n        const currentProject = get().project\n\n        // do not re-open current project\n        if (currentProject !== undefined && currentProject.id === projectData.id) return\n\n        Tone.start()\n        Tone.Transport.bpm.value = projectData.bpm\n\n        const [channels, allEffects] = computeChannels(\n            get().channels,\n            projectData.channels,\n            get().master\n        )\n\n        // convert the project data to a usable loaded project\n        const project = {\n            ...projectData,\n            patterns: projectData.patterns.map((patternData) => {\n                return {\n                    ...patternData,\n                    tracks: patternData.tracks.map((trackData) => {\n                        const channel = channels[trackData.channel]\n                        if (channel === undefined) {\n                            throw new Error(\n                                `channel ${trackData.channel} does not exist for track \"${patternData.name} > ${trackData.name}\" (id: ${trackData.id})`\n                            )\n                        }\n\n                        const trackPlayer = new Tone.Player(trackData.audioFile, () => {\n                            console.log(`[loaded] ${patternData.name}/${trackData.name}`)\n                        })\n\n                        trackPlayer.connect(channel.channel)\n                        console.log(\n                            `[pattern] connected ${patternData.name}/${trackData.name} to channel ${trackData.channel}`\n                        )\n\n                        return {\n                            ...trackData,\n                            player: trackPlayer,\n                        }\n                    }),\n                }\n            }),\n        }\n\n        set({\n            project,\n            bpm: project.bpm,\n            openedPatternId: null,\n            channels,\n            allEffects,\n            tracks: projectData.tracks,\n        })\n\n        // open the first pattern, maybe something we won't keep in the long term,\n        // but it's easier to get started this way\n        if (project.patterns.length > 0) {\n            get().openPattern(project.patterns[0].id)\n        }\n    },\n    openedPatternId: null,\n    openPattern: (patternId: string) => {\n        // no loaded project\n        const project = get().project\n        if (!project) return\n\n        // pattern already open\n        if (get().openedPatternId === patternId) return\n\n        // pattern not found\n        const pattern = project.patterns.find((p) => p.id === patternId)\n        if (!pattern) return\n\n        set({\n            openedPatternId: patternId,\n        })\n    },\n    closePattern: () => {\n        set({ openedPatternId: null })\n    },\n    setSequencerPatternTracks: (patternId: string, tracks: SequencerPatternTrack[]) => {\n        // no loaded project\n        const project = get().project\n        if (!project) return\n\n        set({\n            project: {\n                ...project,\n                patterns: project.patterns.map((pattern) => {\n                    if (pattern.id !== patternId) return pattern\n                    if (pattern.type !== 'sequencer') return pattern\n\n                    return { ...pattern, tracks }\n                }),\n            },\n        })\n    },\n    master: new Tone.Channel().toDestination(),\n    channels: [\n        {\n            channel: new Tone.Channel(),\n            effects: [],\n            sources: [],\n        },\n        {\n            channel: new Tone.Channel(),\n            effects: [],\n            sources: [],\n        },\n        {\n            channel: new Tone.Channel(),\n            effects: [],\n            sources: [],\n        },\n        {\n            channel: new Tone.Channel(),\n            effects: [],\n            sources: [],\n        },\n        {\n            channel: new Tone.Channel(),\n            effects: [],\n            sources: [],\n        },\n        {\n            channel: new Tone.Channel(),\n            effects: [],\n            sources: [],\n        },\n        {\n            channel: new Tone.Channel(),\n            effects: [],\n            sources: [],\n        },\n        {\n            channel: new Tone.Channel(),\n            effects: [],\n            sources: [],\n        },\n    ],\n    highlightedChannel: -1,\n    highlightChannel: (channelIndex: number) => {\n        set({ highlightedChannel: channelIndex })\n    },\n    allEffects: [],\n    openedEffects: [],\n    openEffect: (effectId: string) => {\n        // no loaded project\n        const project = get().project\n        if (!project) return\n\n        // effect already open\n        if (get().openedEffects.find((e) => e.id === effectId)) return\n\n        // effect not found\n        const effect = get().allEffects.find((e) => e.id === effectId)\n        if (!effect) return\n\n        set({\n            openedEffects: [...get().openedEffects, effect],\n        })\n    },\n    closeEffect: (effectId: string) => {\n        set({\n            openedEffects: get().openedEffects.filter((effect) => effect.id !== effectId),\n        })\n    },\n    addEffectToChannel: (effectType: EffectType, channelIndex: number) => {\n        const channels = get().channels\n        const channel: Channel | undefined = channels[channelIndex]\n\n        // channel does not exist\n        if (channel === undefined) return\n\n        let effect: Effect | undefined = undefined\n        let instance: Tone.Distortion | Tone.Reverb\n        switch (effectType) {\n            case 'distortion':\n                instance = new Tone.Distortion()\n                effect = {\n                    id: uuidV4(),\n                    type: effectType,\n                    acronym: 'DIS',\n                    wet: instance.wet.value,\n                    distortion: instance.distortion,\n                    instance,\n                }\n                break\n\n            case 'reverb':\n                instance = new Tone.Reverb()\n                effect = {\n                    id: uuidV4(),\n                    type: effectType,\n                    acronym: 'REV',\n                    wet: instance.wet.value,\n                    decay: Number(instance.decay),\n                    preDelay: Number(instance.preDelay),\n                    instance,\n                }\n                break\n        }\n\n        if (effect === undefined) return\n\n        // now we need to connect the effect to the channel,\n        // disconnecting the last effect from the master,\n        // and introducing it instead\n        const master = get().master\n        const lastEffect = channel.effects[channel.effects.length - 1]\n\n        if (lastEffect !== undefined) {\n            // has effect\n            lastEffect.instance.disconnect(master)\n            lastEffect.instance.connect(effect.instance)\n        } else {\n            // no effect\n            channel.channel.disconnect(master)\n            channel.channel.connect(effect.instance)\n        }\n\n        // connect the new effect to the master\n        effect.instance.connect(master)\n\n        const effects: Effect[] = [...channel.effects, effect]\n        const chain = ['master', ...effects.map((effect) => effect.type)]\n        console.log(`[effects] channel ${channelIndex} | ${chain.join(' <- ')}`)\n\n        set({\n            allEffects: [...get().allEffects, effect],\n            openedEffects: [...get().openedEffects, effect],\n            channels: channels.map((chan, index) => {\n                if (index !== channelIndex) return chan\n\n                return { ...channel, effects }\n            }),\n        })\n    },\n    tracks: [],\n}))\n","import { ChangeEvent, useCallback } from 'react'\nimport styled from 'styled-components/macro'\nimport { FiPlus, FiMinus } from 'react-icons/fi'\nimport { HSpacer } from './Spacer'\nimport { Select } from './controls/Select'\nimport { RoundIconButton } from './controls/RoundIconButton'\nimport { LCDScreen, LCDScreenHighlightedText } from './LCDScreen'\nimport { useAppStore } from '../useApp'\n\nconst genresBpm: [string, number][] = [\n    ['Reggae/R&B', 60],\n    ['Down-tempo', 70],\n    ['Hip-hop', 85],\n    ['Chill-out', 90],\n    ['Pop/Metal', 100],\n    ['Rock', 110],\n    ['House', 118],\n    ['Jazz & Funk/Techno', 120],\n    ['Trance', 130],\n    ['Dubstep/Trap', 140],\n    ['Jungle', 155],\n    ['Drum and Bass', 165],\n]\n\nexport const BpmControl = () => {\n    const bpm = useAppStore((state) => state.bpm)\n    const setBpm = useAppStore((state) => state.setBpm)\n\n    const handleMinus = useCallback(() => {\n        setBpm(Math.max(1, bpm - 1))\n    }, [bpm, setBpm])\n\n    const handlePlus = useCallback(() => {\n        setBpm(Math.min(522, bpm + 1))\n    }, [bpm, setBpm])\n\n    const handleSelect = useCallback(\n        (event: ChangeEvent<HTMLSelectElement>) => {\n            if (event.target.value === '') return\n            setBpm(Number(event.target.value))\n        },\n        [setBpm]\n    )\n\n    const currentGenre = genresBpm.find(([_, genreBpm]) => genreBpm === bpm)\n\n    return (\n        <Container>\n            <RoundIconButton onClick={handleMinus}>\n                <FiMinus />\n            </RoundIconButton>\n            <HSpacer size=\"small\" />\n            <Screen>\n                BPM <Current>{bpm.toFixed(2).padStart(6, ' ')}</Current>\n            </Screen>\n            <HSpacer size=\"small\" />\n            <RoundIconButton onClick={handlePlus}>\n                <FiPlus />\n            </RoundIconButton>\n            <HSpacer size=\"small\" />\n            <Select onChange={handleSelect} value={currentGenre ? currentGenre[1] : ''}>\n                <option value=\"\">-----</option>\n                {genresBpm.map(([genre, genreBpm]) => (\n                    <option key={genre} value={genreBpm}>\n                        {genre} {genreBpm}BPM\n                    </option>\n                ))}\n            </Select>\n        </Container>\n    )\n}\n\nconst Container = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nconst Screen = styled(LCDScreen)`\n    display: flex;\n    align-items: center;\n    height: 28px;\n    padding: 0 12px;\n`\n\nconst Current = styled(LCDScreenHighlightedText)`\n    margin-left: 1ch;\n    white-space: pre;\n`\n","import { ChangeEvent, useCallback } from 'react'\nimport { useAppStore } from '../../useApp'\nimport { Select } from '../controls/Select'\nimport { skins } from './skins'\nimport styled from 'styled-components/macro'\nimport { HSpacer } from '../Spacer'\n\nexport const SkinSelector = () => {\n    const currentSkin = useAppStore((state) => state.skin)\n    const setSkin = useAppStore((state) => state.setSkin)\n    const handleSelect = useCallback(\n        (event: ChangeEvent<HTMLSelectElement>) => {\n            const newSkin = skins.find((t) => t.id === event.target.value)\n            if (newSkin !== undefined) {\n                setSkin(newSkin)\n            }\n        },\n        [setSkin]\n    )\n\n    return (\n        <Container>\n            <Label htmlFor=\"skin\">skin</Label>\n            <HSpacer size=\"small\" />\n            <Select id=\"skin\" value={currentSkin.id} onChange={handleSelect}>\n                {skins.map((skin) => (\n                    <option key={skin.id} value={skin.id}>\n                        {skin.name}\n                    </option>\n                ))}\n            </Select>\n        </Container>\n    )\n}\n\nconst Label = styled.label`\n    font-size: 12px;\n`\n\nconst Container = styled.div`\n    display: flex;\n    align-items: center;\n`\n","import styled from 'styled-components/macro'\nimport { HSpacer } from './Spacer'\nimport { BpmControl } from './BpmControl'\nimport { SkinSelector } from './skins/SkinSelector'\n\nexport const AppHeader = () => {\n    return (\n        <Container>\n            <AppName>\n                <span>Beats</span>\n                <span>Brewer</span>\n            </AppName>\n            <Controls>\n                <BpmControl />\n                <HSpacer />\n                <SkinSelector />\n            </Controls>\n        </Container>\n    )\n}\n\nconst Container = styled.div`\n    display: grid;\n    grid-template-columns: 200px auto;\n    align-items: center;\n    grid-column-start: 1;\n    grid-column-end: 3;\n    padding: 0 12px;\n    background-color: ${(props) => props.theme.enclosure.background};\n    border-bottom: 1px solid ${(props) => props.theme.enclosure.border};\n`\n\nconst AppName = styled.div`\n    font-family: ${(props) => props.theme.typography.headingFont};\n    text-transform: uppercase;\n    font-size: 14px;\n    color: ${(props) => props.theme.colors.textLight};\n\n    & > span:last-child {\n        color: ${(props) => props.theme.colors.accent};\n        margin-left: 2px;\n    }\n`\n\nconst Controls = styled.div`\n    display: flex;\n    align-items: center;\n`\n","import { v4 as uuidV4 } from 'uuid'\nimport { Sample } from '../project/definitions'\n\nconsole.log(uuidV4())\n\nexport const tr808BassDrum1 = require('../audio/tr808/tr808_bass_drum_001.wav').default\nexport const tr808BassDrum2 = require('../audio/tr808/tr808_bass_drum_002.wav').default\nexport const tr808Snare1 = require('../audio/tr808/tr808_snare_001.wav').default\nexport const tr808Snare2 = require('../audio/tr808/tr808_snare_002.wav').default\nexport const tr808Clap1 = require('../audio/tr808/tr808_clap_001.wav').default\nexport const tr808Clap2 = require('../audio/tr808/tr808_clap_002.wav').default\nexport const tr808Rimshot1 = require('../audio/tr808/tr808_rimshot_001.wav').default\nexport const tr808Rimshot2 = require('../audio/tr808/tr808_rimshot_002.wav').default\nexport const tr808HiHatOpen1 = require('../audio/tr808/tr808_hihat_open_001.wav').default\nexport const tr808HiHatOpen2 = require('../audio/tr808/tr808_hihat_open_002.wav').default\nexport const tr808HiHatClosed1 = require('../audio/tr808/tr808_hihat_closed_001.wav').default\nexport const tr808HiHatClosed2 = require('../audio/tr808/tr808_hihat_closed_002.wav').default\nexport const tr808CongasLow1 = require('../audio/tr808/tr808_congas_low_001.wav').default\nexport const tr808CongasLow2 = require('../audio/tr808/tr808_congas_low_002.wav').default\nexport const tr808CongasHigh1 = require('../audio/tr808/tr808_congas_high_001.wav').default\nexport const tr808CongasHigh2 = require('../audio/tr808/tr808_congas_high_002.wav').default\n\nconst kickColor = '#49c19b'\nconst snareColor = '#6a9e6a'\nconst clapColor = '#d0aa4c'\nconst rimshotColor = '#b67892'\nconst hiHatColor = '#95758c'\nconst congasColor = '#743c29'\n\nexport const samples: Sample[] = [\n    {\n        id: uuidV4(),\n        name: 'TR-808 Bass Drum 1',\n        color: kickColor,\n        audioFile: tr808BassDrum1,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Bass Drum 2',\n        color: kickColor,\n        audioFile: tr808BassDrum2,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Snare 1',\n        color: snareColor,\n        audioFile: tr808Snare1,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Snare 2',\n        color: snareColor,\n        audioFile: tr808Snare2,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Clap 1',\n        color: clapColor,\n        audioFile: tr808Clap1,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Clap 2',\n        color: clapColor,\n        audioFile: tr808Clap2,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Rimshot 1',\n        color: rimshotColor,\n        audioFile: tr808Rimshot1,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Rimshot 2',\n        color: rimshotColor,\n        audioFile: tr808Rimshot2,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 HiHat Open 1',\n        color: hiHatColor,\n        audioFile: tr808HiHatOpen1,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 HiHat Open 2',\n        color: hiHatColor,\n        audioFile: tr808HiHatOpen2,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 HiHat Closed 1',\n        color: hiHatColor,\n        audioFile: tr808HiHatClosed1,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 HiHat Closed 2',\n        color: hiHatColor,\n        audioFile: tr808HiHatClosed2,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Congas Low 1',\n        color: congasColor,\n        audioFile: tr808CongasLow1,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Congas Low 2',\n        color: congasColor,\n        audioFile: tr808CongasLow2,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Congas High 1',\n        color: congasColor,\n        audioFile: tr808CongasHigh1,\n    },\n    {\n        id: uuidV4(),\n        name: 'TR-808 Congas High 2',\n        color: congasColor,\n        audioFile: tr808CongasHigh2,\n    },\n]\n\nexport const sampleByName = (sampleName: string): Sample => {\n    const sample = samples.find((s) => s.name === sampleName)\n    if (sample === undefined) {\n        throw new Error(`no sample found for name: ${sampleName}`)\n    }\n\n    return sample\n}\n","import { ProjectData, SequencerPatternData } from '../project/definitions'\nimport { sampleByName } from './samples'\n\nconst drumsCongasOnly: SequencerPatternData = {\n    type: 'sequencer',\n    id: 'ffe439d9-3362-4989-8a4b-a195d60c6343',\n    name: 'Drums | congas only',\n    color: '#743c29',\n    tracks: [\n        {\n            ...sampleByName('TR-808 Congas Low 1'),\n            id: 'cdfc72a8-9730-4c1b-a6ee-fca771f2c11c',\n            channel: 2,\n            isMuted: false,\n            steps: [\n                1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1,\n                0, 1, 0, 0,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Congas High 1'),\n            id: 'bb4500c2-4741-46db-b02a-cd22d6527e75',\n            channel: 2,\n            isMuted: false,\n            steps: [\n                0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0,\n                0, 0, 1, 1,\n            ],\n        },\n    ],\n}\n\nconst drumsCongasPlusKick: SequencerPatternData = {\n    type: 'sequencer',\n    id: '977a4628-129e-47f5-af01-1013426ac58a',\n    name: 'Drums | congas + kick',\n    color: '#3aa878',\n    tracks: [\n        {\n            ...sampleByName('TR-808 Bass Drum 1'),\n            id: '097ca4cd-fc1f-419a-8527-565d2c9d4ff5',\n            channel: 0,\n            isMuted: false,\n            steps: [\n                1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0,\n                1, 0, 0, 0,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Congas Low 1'),\n            id: '73978bee-3282-46ec-881d-8713028e2569',\n            channel: 2,\n            isMuted: false,\n            steps: [\n                1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1,\n                0, 1, 0, 0,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Congas High 1'),\n            id: 'ce7c3273-0843-4fa2-95e5-9cad5b1bbee3',\n            channel: 2,\n            isMuted: false,\n            steps: [\n                0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0,\n                0, 0, 1, 1,\n            ],\n        },\n    ],\n}\n\nconst drumsCongasPlusKickPlusClap: SequencerPatternData = {\n    type: 'sequencer',\n    id: 'fbb33684-57cd-46b2-95a7-3900a53bb393',\n    name: 'Drums | congas + kick + clap',\n    color: '#3aa878',\n    tracks: [\n        {\n            ...sampleByName('TR-808 Bass Drum 1'),\n            id: 'c4893926-5725-40e4-a6b6-94addeb64ab8',\n            channel: 0,\n            isMuted: false,\n            steps: [\n                1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0,\n                1, 0, 1, 0,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Snare 1'),\n            id: '9e78f23f-f0ed-4a80-8e52-57c8a8735746',\n            channel: 1,\n            isMuted: false,\n            steps: [\n                0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1,\n                0, 0, 0, 0,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Clap 1'),\n            id: '9476ae21-c02f-4098-a93e-c6a4cb9b0c42',\n            channel: 1,\n            isMuted: false,\n            steps: [\n                0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0,\n                1, 0, 1, 1,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 HiHat Closed 1'),\n            id: '88c22c47-645a-4749-9a19-d49b0388c0e5',\n            channel: 0,\n            isMuted: false,\n            steps: [\n                1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0,\n                1, 0, 1, 1,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Congas Low 1'),\n            id: '73978bee-3282-46ec-881d-8713028e2569',\n            channel: 2,\n            isMuted: false,\n            steps: [\n                1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1,\n                0, 1, 0, 0,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Congas High 1'),\n            id: 'ce7c3273-0843-4fa2-95e5-9cad5b1bbee3',\n            channel: 2,\n            isMuted: false,\n            steps: [\n                0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0,\n                0, 0, 1, 1,\n            ],\n        },\n    ],\n}\n\nconst drumsCongasPlusKickPlusClapPlusRimShot: SequencerPatternData = {\n    type: 'sequencer',\n    id: '8395269f-0c54-44bb-8ccc-d427fb8fa562',\n    name: 'Drums | congas + kick + clap + rim shot',\n    color: '#3aa878',\n    tracks: [\n        {\n            ...sampleByName('TR-808 Bass Drum 1'),\n            id: '8db91d35-37a5-4361-a10b-b323ac3caaef',\n            channel: 0,\n            isMuted: false,\n            steps: [\n                1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0,\n                1, 0, 1, 0,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Snare 1'),\n            id: 'a949016f-4def-4f6c-a79f-7d4d9b0392ab',\n            channel: 1,\n            isMuted: false,\n            steps: [\n                0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1,\n                0, 0, 0, 0,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Clap 1'),\n            id: '8e1bcf53-4666-4610-9fe8-5917eab04d5e',\n            channel: 1,\n            isMuted: false,\n            steps: [\n                0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0,\n                1, 0, 1, 1,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Rimshot 1'),\n            id: '82685f67-2f5d-476c-9dab-0101358fc36c',\n            channel: 0,\n            isMuted: false,\n            steps: [\n                0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1,\n                1, 1, 1, 1,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 HiHat Closed 1'),\n            id: '769fdef5-797f-4ceb-88bc-c926359f112d',\n            channel: 0,\n            isMuted: false,\n            steps: [\n                1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0,\n                1, 0, 1, 1,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Congas Low 1'),\n            id: '85b3e320-ceb9-4f40-9453-29ea8173d44d',\n            channel: 2,\n            isMuted: false,\n            steps: [\n                1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1,\n                0, 1, 0, 0,\n            ],\n        },\n        {\n            ...sampleByName('TR-808 Congas High 1'),\n            id: '70511b19-7c84-4ce3-ac6e-7aae8c54affa',\n            channel: 2,\n            isMuted: false,\n            steps: [\n                0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0,\n                0, 0, 1, 1,\n            ],\n        },\n    ],\n}\n\nexport const demoProject: ProjectData = {\n    id: '11af1d60-23fc-4b53-b1b1-b10ce69ad292',\n    name: 'Demo Project 1',\n    bpm: 120,\n    patterns: [\n        drumsCongasOnly,\n        drumsCongasPlusKick,\n        drumsCongasPlusKickPlusClap,\n        drumsCongasPlusKickPlusClapPlusRimShot,\n    ],\n    tracks: [\n        {\n            patterns: [\n                {\n                    patternId: drumsCongasOnly.id,\n                    start: '0n',\n                    end: '16n',\n                },\n                {\n                    patternId: drumsCongasPlusKick.id,\n                    start: '16n',\n                    end: '32n',\n                },\n                {\n                    patternId: drumsCongasPlusKickPlusClap.id,\n                    start: '32n',\n                    end: '48n',\n                },\n            ],\n        },\n        {\n            patterns: [],\n        },\n    ],\n    channels: [\n        {\n            effects: [\n                {\n                    id: '64e8dc74-fbb5-4dbd-9107-2cebed7d9676',\n                    type: 'distortion',\n                    acronym: 'DIS',\n                    wet: 0.6,\n                    distortion: 1,\n                },\n                {\n                    id: 'ecc6f983-c637-4507-874e-b924ec4a05d2',\n                    type: 'reverb',\n                    acronym: 'REV',\n                    wet: 0.15,\n                    preDelay: 0,\n                    decay: 1,\n                },\n            ],\n        },\n        {\n            effects: [\n                {\n                    id: 'b32a0c32-2e3f-45f0-b4fe-c89f28fe50a1',\n                    type: 'reverb',\n                    acronym: 'REV',\n                    wet: 0.4,\n                    preDelay: 0,\n                    decay: 0.6,\n                },\n            ],\n        },\n        {\n            effects: [\n                {\n                    id: 'be1264d2-c1ff-4f5c-b259-7e37e7bff7fb',\n                    type: 'reverb',\n                    acronym: 'REV',\n                    wet: 0.5,\n                    preDelay: 0,\n                    decay: 3,\n                },\n                {\n                    id: 'af90fc4a-0226-4fdb-b292-ae37d10a02a2',\n                    type: 'distortion',\n                    acronym: 'DIS',\n                    wet: 1,\n                    distortion: 0.4,\n                },\n            ],\n        },\n    ],\n}\n","import { demoProject } from './demoProject'\n\nexport const demoProjects = [demoProject]\n","import { v4 as uuidV4 } from 'uuid'\nimport { DrumKit } from '../project/definitions'\nimport { sampleByName } from './samples'\n\nexport const drumKits: DrumKit[] = [\n    {\n        id: uuidV4(),\n        name: 'Drum Kit TR-808 1',\n        samples: [\n            sampleByName('TR-808 Bass Drum 1'),\n            sampleByName('TR-808 Snare 1'),\n            sampleByName('TR-808 Clap 1'),\n            sampleByName('TR-808 Rimshot 1'),\n            sampleByName('TR-808 HiHat Open 1'),\n            sampleByName('TR-808 HiHat Closed 1'),\n            sampleByName('TR-808 Congas Low 1'),\n            sampleByName('TR-808 Congas High 1'),\n        ],\n    },\n    {\n        id: uuidV4(),\n        name: 'Drum Kit TR-808 2',\n        samples: [\n            sampleByName('TR-808 Bass Drum 2'),\n            sampleByName('TR-808 Snare 2'),\n            sampleByName('TR-808 Clap 2'),\n            sampleByName('TR-808 Rimshot 2'),\n            sampleByName('TR-808 HiHat Open 2'),\n            sampleByName('TR-808 HiHat Closed 2'),\n            sampleByName('TR-808 Congas Low 2'),\n            sampleByName('TR-808 Congas High 2'),\n        ],\n    },\n]\n","import { PropsWithChildren, ReactNode, useCallback, useState } from 'react'\nimport styled from 'styled-components/macro'\n\ninterface ExplorerFolderProps {\n    title: ReactNode\n    defaultIsOpen?: boolean\n}\n\nexport const ExplorerFolder = ({\n    title,\n    defaultIsOpen = false,\n    children,\n}: PropsWithChildren<ExplorerFolderProps>) => {\n    const [isOpen, setIsOpen] = useState(defaultIsOpen)\n    const toggle = useCallback(() => {\n        setIsOpen((previous) => !previous)\n    }, [setIsOpen])\n\n    return (\n        <>\n            <Header onClick={toggle}>{title}</Header>\n            {isOpen && children}\n        </>\n    )\n}\n\nconst Header = styled.div`\n    cursor: pointer;\n`\n","import { PropsWithChildren, createElement } from 'react'\nimport { darken } from 'polished'\nimport { IconType } from 'react-icons'\nimport styled from 'styled-components/macro'\n\nexport interface ExplorerItemProps {\n    icon?: IconType\n    count?: number\n    onClick?: () => void\n}\n\nexport const ExplorerItem = ({\n    children,\n    icon,\n    count = 0,\n    onClick,\n}: PropsWithChildren<ExplorerItemProps>) => {\n    return (\n        <ExplorerItemContainer onClick={onClick}>\n            <ExplorerIcon>{icon && createElement(icon)}</ExplorerIcon>\n            <ExplorerLabel>{children}</ExplorerLabel>\n            {count > 0 && <ExplorerCount>{count}</ExplorerCount>}\n        </ExplorerItemContainer>\n    )\n}\n\nexport const ExplorerItemContainer = styled.div`\n    display: grid;\n    grid-template-columns: 16px auto 24px;\n    grid-column-gap: 5px;\n    align-items: center;\n    font-size: 11px;\n    padding: 5px 9px;\n    cursor: pointer;\n\n    &:hover {\n        background-color: ${(props) => darken(0.03, props.theme.enclosure.background)};\n    }\n`\n\nexport const ExplorerIcon = styled.span`\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    color: ${(props) => props.theme.colors.text};\n    opacity: 0.7;\n`\n\nexport const ExplorerLabel = styled.span`\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n`\n\nexport const ExplorerCount = styled.span`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ${(props) => props.theme.enclosure.backgroundAlt};\n    border-radius: 2px;\n    padding: 3px 0;\n    font-size: 9px;\n    font-weight: bold;\n`\n","import {\n    ExplorerItemProps,\n    ExplorerItemContainer,\n    ExplorerIcon,\n    ExplorerLabel,\n    ExplorerCount,\n} from './ExplorerItem'\nimport { createElement, PropsWithChildren } from 'react'\nimport styled from 'styled-components/macro'\n\nexport const ExplorerSectionTitle = ({\n    children,\n    icon,\n    count = 0,\n    onClick,\n}: PropsWithChildren<ExplorerItemProps>) => {\n    return (\n        <Container onClick={onClick}>\n            <Icon>{icon && createElement(icon)}</Icon>\n            <Label>{children}</Label>\n            {count > 0 && <ExplorerCount>{count}</ExplorerCount>}\n        </Container>\n    )\n}\n\nconst Container = styled(ExplorerItemContainer)`\n    padding-top: 7px;\n    padding-bottom: 7px;\n`\n\nconst Icon = styled(ExplorerIcon)`\n    opacity: 1;\n`\n\nconst Label = styled(ExplorerLabel)`\n    color: ${(props) => props.theme.colors.accent};\n    font-size: 12px;\n    font-weight: bold;\n`\n","import styled from 'styled-components/macro'\nimport { darken } from 'polished'\nimport { BiBox } from 'react-icons/bi'\nimport { FaDrum, FaWaveSquare } from 'react-icons/fa'\n// import { CgPiano } from 'react-icons/cg'\nimport { BsGrid3X2GapFill } from 'react-icons/bs'\nimport { demoProjects } from '../library/demoProjects'\n// import { SYNTH_TYPES } from '../synths/definitions'\nimport { drumKits } from '../library/drumKits'\nimport { samples } from '../library/samples'\nimport { useAppStore } from '../useApp'\nimport { ExplorerFolder } from './ExplorerFolder'\nimport { ExplorerItem } from './ExplorerItem'\nimport { ExplorerSectionTitle } from './ExplorerSectionTitle'\n\nexport const Explorer = () => {\n    const project = useAppStore((state) => state.project)\n    // const createEmptyProject = useAppStore((state) => state.createEmptyProject)\n    const loadProject = useAppStore((state) => state.loadProject)\n    const openPattern = useAppStore((state) => state.openPattern)\n\n    return (\n        <Container>\n            {/*\n            <Item onClick={createEmptyProject}>New Empty Project</Item>\n            */}\n            {project && (\n                <>\n                    <SubTitle>{project.name}</SubTitle>\n                    <ExplorerFolder\n                        defaultIsOpen\n                        title={\n                            <ExplorerSectionTitle\n                                icon={BsGrid3X2GapFill}\n                                count={project.patterns.length}\n                            >\n                                Patterns\n                            </ExplorerSectionTitle>\n                        }\n                    >\n                        {project.patterns.map((pattern) => {\n                            return (\n                                <ExplorerItem\n                                    key={pattern.id}\n                                    icon={BsGrid3X2GapFill}\n                                    onClick={() => {\n                                        openPattern(pattern.id)\n                                    }}\n                                >\n                                    {pattern.name}\n                                </ExplorerItem>\n                            )\n                        })}\n                    </ExplorerFolder>\n                </>\n            )}\n            <SubTitle>Library</SubTitle>\n            <ExplorerFolder\n                defaultIsOpen\n                title={\n                    <ExplorerSectionTitle icon={BiBox} count={demoProjects.length}>\n                        Demo Projects\n                    </ExplorerSectionTitle>\n                }\n            >\n                {demoProjects.map((project) => (\n                    <ExplorerItem\n                        key={project.name}\n                        icon={BiBox}\n                        onClick={() => {\n                            loadProject(project)\n                        }}\n                    >\n                        {project.name}\n                    </ExplorerItem>\n                ))}\n            </ExplorerFolder>\n            {/*\n            <SectionTitle>Instruments</SectionTitle>\n            <ExplorerFolder\n                title={\n                    <SectionTitle>\n                        <CgPiano /> Synths {SYNTH_TYPES.length}\n                    </SectionTitle>\n                }\n            >\n                {SYNTH_TYPES.map((synthType) => (\n                    <Item key={synthType}>\n                        <CgPiano /> {synthType}\n                    </Item>\n                ))}\n            </ExplorerFolder>\n            */}\n            <ExplorerFolder\n                title={\n                    <ExplorerSectionTitle icon={FaDrum} count={drumKits.length}>\n                        Drum Kits\n                    </ExplorerSectionTitle>\n                }\n            >\n                {drumKits.map((drumKit) => (\n                    <ExplorerItem key={drumKit.id} icon={FaDrum}>\n                        {drumKit.name}\n                    </ExplorerItem>\n                ))}\n            </ExplorerFolder>\n            <ExplorerFolder\n                title={\n                    <ExplorerSectionTitle icon={FaWaveSquare} count={samples.length}>\n                        Samples\n                    </ExplorerSectionTitle>\n                }\n            >\n                {samples.map((sample) => (\n                    <ExplorerItem key={sample.id} icon={FaWaveSquare}>\n                        {sample.name}\n                    </ExplorerItem>\n                ))}\n            </ExplorerFolder>\n        </Container>\n    )\n}\n\nconst Container = styled.div`\n    background-color: ${(props) => props.theme.enclosure.background};\n    color: ${(props) => props.theme.colors.text};\n    border-right: 1px solid ${(props) => props.theme.enclosure.border};\n`\n\nconst SubTitle = styled.h2`\n    font-family: ${(props) => props.theme.typography.headingFont};\n    background-color: ${(props) => darken(0.03, props.theme.enclosure.background)};\n    font-size: 13px;\n    margin: 0;\n    padding: 7px 12px;\n    color: ${(props) => props.theme.colors.accent};\n`\n","import styled from 'styled-components'\n\nexport const Desk = styled.div`\n    color: ${(props) => props.theme.colors.text};\n    padding: ${(props) => props.theme.sizes.mainGap / 2}px;\n`\n","import { createElement, PropsWithChildren } from 'react'\nimport { useAppStore } from '../useApp'\n\nexport const Enclosure = ({ children }: PropsWithChildren<{}>) => {\n    const skin = useAppStore((state) => state.skin)\n\n    return createElement(skin.enclosure, {}, children)\n}\n","import styled from 'styled-components'\n\nexport const ComponentHeader = styled.div`\n    display: flex;\n    align-items: center;\n`\n","import styled from 'styled-components'\n\nexport const ComponentName = styled.div`\n    display: flex;\n    align-items: center;\n    font-family: ${(props) => props.theme.typography.headingFont};\n    font-weight: 700;\n    text-transform: uppercase;\n    font-size: 11px;\n    color: ${(props) => props.theme.colors.textLight};\n`\n\nexport const ComponentNameHighlight = styled.span`\n    color: ${(props) => props.theme.colors.accent};\n`\n","import styled from 'styled-components'\nimport { FiPlus, FiMinus } from 'react-icons/fi'\nimport { HSpacer } from '../ui/Spacer'\nimport { LCDScreen, LCDScreenHighlightedText } from '../ui/LCDScreen'\nimport { RoundIconButton } from '../ui/controls/RoundIconButton'\nimport { useCallback } from 'react'\n\ninterface SequencerBarsProps {\n    bars: number\n    setBars: (bars: number) => void\n}\n\nexport const SequencerBars = ({ bars, setBars }: SequencerBarsProps) => {\n    const handleMinus = useCallback(() => {\n        setBars(Math.max(1, bars - 1))\n    }, [setBars, bars])\n\n    const handlePlus = useCallback(() => {\n        setBars(bars + 1)\n    }, [setBars, bars])\n\n    return (\n        <Container>\n            <RoundIconButton onClick={handleMinus}>\n                <FiMinus />\n            </RoundIconButton>\n            <HSpacer size=\"xsmall\" />\n            <Screen>\n                Bars <Current>{bars}</Current>\n            </Screen>\n            <HSpacer size=\"xsmall\" />\n            <RoundIconButton onClick={handlePlus}>\n                <FiPlus />\n            </RoundIconButton>\n        </Container>\n    )\n}\n\nconst Container = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nconst Screen = styled(LCDScreen)`\n    padding: 0 12px;\n    display: flex;\n    align-items: center;\n    height: 28px;\n`\n\nconst Current = styled(LCDScreenHighlightedText)`\n    margin-left: 1ch;\n`\n","import { useCallback } from 'react'\nimport styled from 'styled-components/macro'\nimport { PatternData } from '../project/definitions'\n\ninterface PlaylistPatternProps {\n    pattern: PatternData\n    isSelected: boolean\n    onSelect: (patternId: string) => void\n}\n\nexport const PlaylistPattern = ({ pattern, isSelected, onSelect }: PlaylistPatternProps) => {\n    const handleSelect = useCallback(() => {\n        onSelect(pattern.id)\n    }, [pattern.id, onSelect])\n\n    return (\n        <Container key={pattern.id} isSelected={isSelected} onClick={handleSelect}>\n            {pattern.name}\n        </Container>\n    )\n}\n\nconst Container = styled.div<{\n    isSelected: boolean\n}>`\n    background-color: ${(props) => props.theme.enclosure.background};\n    border-radius: 2px;\n    padding: 7px 9px;\n    font-family: ${(props) => props.theme.typography.headingFont};\n    font-size: 10px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    cursor: pointer;\n    margin-top: 3px;\n    opacity: ${(props) => (props.isSelected ? 1 : 0.66)};\n\n    &:first-child {\n        margin-top: 0;\n    }\n\n    &:hover {\n        opacity: 1;\n    }\n`\n","import styled from 'styled-components/macro'\nimport { PatternData } from '../project/definitions'\nimport { PlaylistPattern } from './PlaylistPattern'\n\ninterface PlaylistPatternsProps {\n    patterns: PatternData[]\n    selectedId: string | null\n    onSelect: (patternId: string) => void\n}\n\nexport const PlaylistPatterns = ({ patterns, selectedId, onSelect }: PlaylistPatternsProps) => {\n    return (\n        <Container>\n            {patterns.map((pattern) => {\n                return (\n                    <PlaylistPattern\n                        key={pattern.id}\n                        pattern={pattern}\n                        isSelected={pattern.id === selectedId}\n                        onSelect={onSelect}\n                    />\n                )\n            })}\n        </Container>\n    )\n}\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    background-color: ${(props) => props.theme.enclosure.backgroundDark};\n    padding: 3px;\n    border-radius: 3px;\n`\n","import styled from 'styled-components/macro'\nimport { useAppStore } from '../useApp'\n\nexport const PlaylistTracks = () => {\n    const tracks = useAppStore((state) => state.tracks)\n\n    return (\n        <Container>\n            {tracks.map((track, trackIndex) => {\n                return (\n                    <Track key={trackIndex}>\n                        <TrackLabel>Track {trackIndex + 1}</TrackLabel>\n                    </Track>\n                )\n            })}\n        </Container>\n    )\n}\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n`\n\nconst Track = styled.div`\n    display: flex;\n    height: 48px;\n    padding: 3px 0;\n`\n\nconst TrackLabel = styled.div`\n    width: 100%;\n    height: 100%;\n    background-color: ${(props) => props.theme.enclosure.backgroundAlt};\n    border-radius: 2px;\n    padding: 5px 9px;\n    font-family: ${(props) => props.theme.typography.headingFont};\n    font-size: 10px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    cursor: pointer;\n    text-transform: uppercase;\n`\n","import { useMemo, Fragment } from 'react'\nimport styled from 'styled-components/macro'\nimport * as Tone from 'tone'\nimport { useAppStore } from '../useApp'\n\nconst MIN_LENGTH = `${16 * 6}t`\n\nexport const PlaylistGrid = () => {\n    const rawTracks = useAppStore((state) => state.tracks)\n    const globalPatterns = useAppStore((state) => state.project!.patterns)\n    const tracks = useMemo(() => {\n        return rawTracks.map((track) => {\n            const patterns = track.patterns.map((trackPattern: any) => {\n                const pattern = globalPatterns.find((p) => p.id === trackPattern.patternId)\n                if (pattern === undefined) {\n                    throw new Error(`pattern ${trackPattern.patternId} not found`)\n                }\n\n                return {\n                    ...trackPattern,\n                    pattern,\n                }\n            })\n\n            return {\n                ...track,\n                patterns,\n            }\n        })\n    }, [rawTracks, globalPatterns])\n\n    console.log({ tracks })\n\n    const time = Tone.Time(MIN_LENGTH)\n    console.log({\n        bpm: Tone.Transport.bpm.value,\n        MIN_LENGTH,\n        time,\n        seconds: time.toSeconds(),\n        ticks: time.toTicks(),\n        notation: time.toNotation(),\n    })\n\n    const tickCount = time.toTicks()\n    const ticks = Array.from({ length: tickCount }).map((_, index) => index)\n\n    return (\n        <Container tracks={tracks.length} ticks={ticks.length}>\n            {tracks.map((track, trackIndex) => {\n                return (\n                    <Fragment key={trackIndex}>\n                        {ticks.map((tick) => {\n                            return <Tick key={tick}></Tick>\n                        })}\n                    </Fragment>\n                )\n            })}\n        </Container>\n    )\n}\n\nconst Container = styled.div<{\n    tracks: number\n    ticks: number\n}>`\n    display: grid;\n    grid-template-columns: repeat(${(props) => props.ticks}, 10px);\n    grid-template-rows: repeat(${(props) => props.tracks}, 48px);\n    background-color: ${(props) => props.theme.enclosure.backgroundDark};\n`\n\nconst Tick = styled.div`\n    border-right: 1px solid #000;\n    border-bottom: 1px solid #000;\n`\n","import { useCallback, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { VSpacer } from '../ui/Spacer'\nimport { Desk } from '../ui/Desk'\nimport { Enclosure } from '../ui/Enclosure'\nimport { ComponentHeader } from '../ui/ComponentHeader'\nimport { ComponentName, ComponentNameHighlight } from '../ui/ComponentName'\nimport { useAppStore } from '../useApp'\nimport { PlaylistPatterns } from './PlaylistPatterns'\nimport { PlaylistTracks } from './PlaylistTracks'\nimport { PlaylistGrid } from './PlaylistGrid'\n\nexport const Playlist = () => {\n    const project = useAppStore((state) => state.project)\n\n    const [patternId, setPatternId] = useState<string | null>(null)\n    const handlePatternSelection = useCallback(\n        (id: string) => {\n            setPatternId(id)\n        },\n        [setPatternId]\n    )\n\n    if (!project) return null\n\n    return (\n        <Desk>\n            <Enclosure>\n                <ComponentHeader>\n                    <ComponentName>\n                        <ComponentNameHighlight>Playlist</ComponentNameHighlight>\n                    </ComponentName>\n                </ComponentHeader>\n                <VSpacer />\n                <Container>\n                    <PlaylistPatterns\n                        patterns={project.patterns}\n                        selectedId={patternId}\n                        onSelect={handlePatternSelection}\n                    />\n                    <SecondaryContainer>\n                        <PlaylistTracks />\n                        <PlaylistGrid />\n                    </SecondaryContainer>\n                </Container>\n            </Enclosure>\n        </Desk>\n    )\n}\n\nconst Container = styled.div`\n    display: grid;\n    grid-template-columns: 160px auto;\n    grid-column-gap: 6px;\n`\n\nconst SecondaryContainer = styled.div`\n    display: grid;\n    grid-template-columns: 120px auto;\n    grid-column-gap: 6px;\n`\n","import styled from 'styled-components/macro'\nimport { HardwareButton } from './HardwareButton'\n\nexport const SquareIconButton = styled(HardwareButton)<{\n    isPressed?: boolean\n    isInactive?: boolean\n    hasNext?: boolean\n    hasPrevious?: boolean\n}>`\n    padding: 0;\n    font-size: 14px;\n    width: 24px;\n    height: 24px;\n`\n","import { FiPlay, FiSquare } from 'react-icons/fi'\nimport { SquareIconButton } from './SquareIconButton'\n\ninterface PlayerControlsProps {\n    isPlaying: boolean\n    play: () => void\n    stop: () => void\n}\n\nexport const PlayerControls = ({ isPlaying, play, stop }: PlayerControlsProps) => {\n    return (\n        <div>\n            <SquareIconButton hasNext isPressed={isPlaying} onClick={play}>\n                <FiPlay />\n            </SquareIconButton>\n            <SquareIconButton hasPrevious isPressed={!isPlaying} onClick={stop}>\n                <FiSquare />\n            </SquareIconButton>\n        </div>\n    )\n}\n","import { FiCopy } from 'react-icons/fi'\nimport { HSpacer } from '../ui/Spacer'\nimport { ComponentHeader } from '../ui/ComponentHeader'\nimport { ComponentName, ComponentNameHighlight } from '../ui/ComponentName'\nimport { SequencerBars } from './SequencerBars'\nimport { PlayerControls } from '../ui/controls/PlayerControls'\nimport { HardwareButton } from '../ui/controls/HardwareButton'\nimport { SequencerPattern } from '../project/definitions'\n\ninterface SequencerHeaderProps {\n    pattern: SequencerPattern\n    bars: number\n    setBars: (bars: number) => void\n    doubleBars: () => void\n    isPlaying: boolean\n    play: () => void\n    stop: () => void\n}\n\nexport const SequencerHeader = ({\n    pattern,\n    bars,\n    setBars,\n    doubleBars,\n    isPlaying,\n    play,\n    stop,\n}: SequencerHeaderProps) => {\n    return (\n        <ComponentHeader>\n            <ComponentName>\n                <ComponentNameHighlight>{pattern.name}</ComponentNameHighlight>\n            </ComponentName>\n            <HSpacer />\n            <PlayerControls isPlaying={isPlaying} play={play} stop={stop} />\n            <HSpacer />\n            <SequencerBars bars={bars} setBars={setBars} />\n            <HSpacer size=\"small\" />\n            <HardwareButton onClick={doubleBars}>\n                <FiCopy />\n                <HSpacer size=\"xsmall\" />\n                double\n            </HardwareButton>\n        </ComponentHeader>\n    )\n}\n","import styled from 'styled-components/macro'\nimport { FiChevronUp, FiChevronDown } from 'react-icons/fi'\n// import { useAppStore } from '../useApp'\nimport { LCDScreen, LCDScreenHighlightedText } from '../ui/LCDScreen'\nimport { useCallback } from 'react'\n\ninterface MixerChannelSelectorProps {\n    value: number\n}\n\nexport const MixerChannelSelector = ({ value }: MixerChannelSelectorProps) => {\n    // const channels = useAppStore((state) => state.channels)\n\n    const handleUp = useCallback(() => {\n        console.log(value + 1)\n    }, [value])\n\n    const handleDown = useCallback(() => {\n        console.log(value - 1)\n    }, [value])\n\n    return (\n        <Container>\n            <Screen>\n                <LCDScreenHighlightedText>{value + 1}</LCDScreenHighlightedText>\n            </Screen>\n            <Controls>\n                <Button onClick={handleUp}>\n                    <FiChevronUp />\n                </Button>\n                <Button onClick={handleDown}>\n                    <FiChevronDown />\n                </Button>\n            </Controls>\n        </Container>\n    )\n}\n\nconst Container = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nconst Screen = styled(LCDScreen)`\n    width: 24px;\n    height: 24px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 2px;\n`\n\nconst Controls = styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 12px;\n    height: 24px;\n`\n\nconst Button = styled.span`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 12px;\n    color: ${(props) => props.theme.colors.textLight};\n\n    &:hover {\n        color: ${(props) => props.theme.colors.text};\n    }\n`\n","import { useCallback } from 'react'\nimport styled from 'styled-components/macro'\nimport { FiVolume, FiVolumeX } from 'react-icons/fi'\nimport { TrackWithPlayer } from './useStepSequencer'\nimport { MixerChannelSelector } from '../mixer/MixerChannelSelector'\nimport { useAppStore } from '../useApp'\n\ninterface TrackHeadingProps {\n    track: TrackWithPlayer\n    toggleTrack: (sampleId: string) => void\n}\n\nexport const TrackHeading = ({ track, toggleTrack }: TrackHeadingProps) => {\n    const highlightChannel = useAppStore((state) => state.highlightChannel)\n\n    const handleMouseEnter = useCallback(() => {\n        highlightChannel(track.channel)\n    }, [highlightChannel, track.channel])\n\n    const handleMouseLeave = useCallback(() => {\n        highlightChannel(-1)\n    }, [highlightChannel])\n\n    const handleToggle = useCallback(() => {\n        toggleTrack(track.id)\n    }, [track.id, toggleTrack])\n\n    return (\n        <TrackHeadingContainer\n            color={track.color}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n        >\n            <TrackName>{track.name}</TrackName>\n            <MixerChannelSelector value={track.channel} />\n            <MuteIcon isMuted={track.isMuted} onClick={handleToggle}>\n                {track.isMuted && <FiVolumeX />}\n                {!track.isMuted && <FiVolume />}\n            </MuteIcon>\n        </TrackHeadingContainer>\n    )\n}\n\nconst TrackHeadingContainer = styled.div<{\n    color: string\n}>`\n    display: grid;\n    grid-template-columns: auto 36px 24px;\n    grid-column-gap: 5px;\n    position: relative;\n    align-items: center;\n    font-family: ${(props) => props.theme.typography.monospacedFont};\n    font-size: 12px;\n    background-color: ${(props) => props.theme.enclosure.backgroundAlt};\n    height: 32px;\n    border-radius: 2px;\n    padding: 0 6px 0 16px;\n    user-select: none;\n    cursor: pointer;\n    color: ${(props) => props.theme.colors.textLight};\n\n    &:before {\n        content: '';\n        position: absolute;\n        background-color: ${(props) => props.color};\n        top: 0;\n        left: 0;\n        width: 5px;\n        height: 100%;\n        border-radius: 2px 0 0 2px;\n        opacity: 0.6;\n    }\n\n    &:hover {\n        &:before {\n            opacity: 1;\n        }\n    }\n`\n\nconst TrackName = styled.div`\n    font-family: ${(props) => props.theme.typography.headingFont};\n    text-transform: uppercase;\n    font-size: 10px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n`\n\nconst MuteIcon = styled.div<{\n    isMuted: boolean\n}>`\n    font-size: 16px;\n    width: 24px;\n    height: 24px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: ${(props) => props.theme.colors.textLight};\n\n    &:hover {\n        color: ${(props) => props.theme.colors.text};\n    }\n`\n","import styled from 'styled-components/macro'\nimport { useMemo } from 'react'\n\ninterface SequencerTimelineProps {\n    steps: number\n    current: number\n}\n\nexport const SequencerTimeline = ({ steps, current }: SequencerTimelineProps) => {\n    const stepIndexes = useMemo(() => {\n        return Array.from({ length: steps }).map((_, index) => index)\n    }, [steps])\n\n    return (\n        <Container steps={steps}>\n            {stepIndexes.map((index) => {\n                return <Step key={index} isCurrent={index === current} />\n            })}\n        </Container>\n    )\n}\n\nconst Container = styled.div<{\n    steps: number\n}>`\n    height: 3px;\n    margin-bottom: 7px;\n    display: grid;\n    grid-template-columns: repeat(${(props) => props.steps}, 14px);\n    grid-column-gap: 4px;\n`\n\nconst Step = styled.span<{\n    isCurrent: boolean\n}>`\n    height: 3px;\n    background-color: ${(props) => props.theme.colors.accent};\n    opacity: ${(props) => (props.isCurrent ? 1 : 0.3)};\n    box-shadow: ${(props) => {\n        if (!props.isCurrent) return 'none'\n        return `0 0 5px ${props.theme.colors.accent}`\n    }};\n`\n","import { useCallback } from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { darken, lighten, rgba } from 'polished'\nimport { TrackWithPlayer } from './useStepSequencer'\n\ninterface TrackStepsProps {\n    track: TrackWithPlayer\n    currentStep: number\n    toggleStep: (sampleId: string, index: number) => void\n}\n\nexport const TrackSteps = ({ track, currentStep, toggleStep }: TrackStepsProps) => {\n    const handleToggle = useCallback(\n        (index: number) => {\n            toggleStep(track.id, index)\n        },\n        [toggleStep, track.id]\n    )\n\n    return (\n        <Grid steps={track.steps.length}>\n            {track.steps.map((step, index) => {\n                return (\n                    <Step\n                        key={index}\n                        index={index}\n                        color={track.color}\n                        isActive={step === 1}\n                        isPlaying={step === 1 && currentStep === index}\n                        onToggle={handleToggle}\n                        isMuted={track.isMuted}\n                    />\n                )\n            })}\n        </Grid>\n    )\n}\n\ninterface StepProps {\n    index: number\n    color: string\n    isActive: boolean\n    isPlaying: boolean\n    onToggle: (index: number) => void\n    isMuted: boolean\n}\n\nconst Step = ({ index, color, isActive, isPlaying, onToggle, isMuted }: StepProps) => {\n    const handleToggle = useCallback(() => {\n        onToggle(index)\n    }, [onToggle, index])\n\n    return (\n        <StepElement\n            color={color}\n            isActive={isActive}\n            isPlaying={isPlaying}\n            isOdd={index % 8 >= 4}\n            onClick={handleToggle}\n            isMuted={isMuted}\n        />\n    )\n}\n\nconst Grid = styled.div<{\n    steps: number\n}>`\n    display: grid;\n    align-items: center;\n    grid-template-columns: repeat(${(props) => props.steps}, 14px);\n    grid-column-gap: 4px;\n    height: 32px;\n`\n\nconst StepElement = styled.div<{\n    color: string\n    isActive: boolean\n    isPlaying: boolean\n    isOdd: boolean\n    isMuted: boolean\n}>`\n    position: relative;\n    border-radius: 2px;\n    height: 24px;\n    cursor: pointer;\n    opacity: ${(props) => (props.isMuted ? 0.5 : 1)};\n\n    &:after {\n        content: '';\n        background-color: ${(props) => props.theme.enclosure.background};\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 4px;\n        height: 4px;\n        margin-left: -2px;\n        margin-top: -2px;\n        border-radius: 2px;\n        transform: translate3d(0, 5px, 0);\n        opacity: 0;\n        transition: transform 400ms, opacity 400ms;\n    }\n\n    ${({ theme, color, isActive, isPlaying, isOdd }) => {\n        if (isActive) {\n            if (isPlaying) {\n                return css`\n                    background-color: ${lighten(0.15, color)};\n                    box-shadow: inset 0 -1px 0 ${color}, inset 0 1px 0 ${lighten(0.15, color)},\n                        0 0 3px 2px ${rgba(color, 0.35)};\n\n                    &:after {\n                        transform: translate3d(0, -5px, 0);\n                        opacity: 1;\n                    }\n                `\n            }\n\n            return css`\n                background-color: ${color};\n                box-shadow: inset 0 -1px 0 ${darken(0.2, color)},\n                    0 1px 3px ${rgba(darken(0.3, theme.enclosure.background), 0.66)},\n                    inset 0 1px 0 ${lighten(0.15, color)};\n\n                &:after {\n                    transform: translate3d(0, -5px, 0);\n                    opacity: 1;\n                }\n            `\n        }\n\n        if (isOdd) {\n            return css`\n                background-color: ${lighten(0.05, theme.enclosure.background)};\n                border: 1px solid ${darken(0.03, theme.enclosure.background)};\n\n                &:hover {\n                    background-color: ${rgba(color, 0.8)};\n                }\n            `\n        }\n\n        return css`\n            background-color: ${lighten(0.1, theme.enclosure.background)};\n            border: 1px solid ${darken(0.03, theme.enclosure.background)};\n\n            &:hover {\n                background-color: ${rgba(color, 0.8)};\n            }\n        `\n    }}\n`\n","import styled from 'styled-components/macro'\nimport { TrackSteps } from './TrackSteps'\nimport { TrackWithPlayer } from './useStepSequencer'\n\ninterface SequencerTracksProps {\n    tracks: TrackWithPlayer[]\n    currentStep: number\n    toggleStep: (sampleId: string, index: number) => void\n}\n\nexport const SequencerTracks = ({ tracks, currentStep, toggleStep }: SequencerTracksProps) => {\n    return (\n        <Container>\n            {tracks.map((track) => (\n                <TrackSteps\n                    key={track.id}\n                    track={track}\n                    currentStep={currentStep}\n                    toggleStep={toggleStep}\n                />\n            ))}\n        </Container>\n    )\n}\n\nconst Container = styled.div`\n    display: grid;\n    grid-row-gap: 5px;\n`\n","import styled from 'styled-components/macro'\nimport { VSpacer } from '../ui/Spacer'\nimport { Desk } from '../ui/Desk'\nimport { Enclosure } from '../ui/Enclosure'\nimport { SequencerHeader } from './SequencerHeader'\nimport { TrackHeading } from './TrackHeading'\nimport { SequencerTimeline } from './SequencerTimeline'\nimport { useStepSequencer } from './useStepSequencer'\nimport { SequencerTracks } from './SequencerTracks'\nimport { SequencerPattern } from '../project/definitions'\n\ninterface SequencerProps {\n    pattern: SequencerPattern\n}\n\nexport const Sequencer = ({ pattern }: SequencerProps) => {\n    const {\n        bars,\n        setBars,\n        doubleBars,\n        steps,\n        stepIndex,\n        tracks,\n        toggleTrack,\n        toggleStep,\n        isPlaying,\n        play,\n        stop,\n    } = useStepSequencer({\n        pattern,\n    })\n\n    return (\n        <Desk>\n            <Enclosure>\n                <SequencerHeader\n                    pattern={pattern}\n                    bars={bars}\n                    setBars={setBars}\n                    doubleBars={doubleBars}\n                    isPlaying={isPlaying}\n                    play={play}\n                    stop={stop}\n                />\n                <VSpacer />\n                <Container>\n                    <TrackHeadings>\n                        {tracks.map((track) => (\n                            <TrackHeading key={track.id} track={track} toggleTrack={toggleTrack} />\n                        ))}\n                    </TrackHeadings>\n                    <div>\n                        <SequencerTimeline steps={steps} current={stepIndex} />\n                        <SequencerTracks\n                            tracks={tracks}\n                            currentStep={stepIndex}\n                            toggleStep={toggleStep}\n                        />\n                    </div>\n                </Container>\n            </Enclosure>\n        </Desk>\n    )\n}\n\nconst Container = styled.div`\n    display: grid;\n    grid-template-columns: 200px auto;\n    grid-column-gap: 16px;\n`\n\nconst TrackHeadings = styled.div`\n    margin-top: 10px;\n    display: grid;\n    grid-row-gap: 5px;\n`\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport * as Tone from 'tone'\nimport { SequencerPattern, SequencerPatternTrack } from '../project/definitions'\nimport { useAppStore } from '../useApp'\n\nexport interface TrackWithPlayer extends SequencerPatternTrack {\n    player: Tone.Player\n}\n\nexport const useStepSequencer = ({ pattern }: { pattern: SequencerPattern }) => {\n    const [bars, setBars] = useState<number>(() => {\n        if (pattern.tracks.length > 0) {\n            return pattern.tracks[0].steps.length / 16\n        }\n\n        return 1\n    })\n    const [stepIndex, setStepIndex] = useState<number>(-1)\n    const steps = bars * 4 * 4\n\n    const setPatternTracks = useAppStore((state) => state.setSequencerPatternTracks)\n    const setTracks = useCallback(\n        (tracks: SequencerPatternTrack[]) => {\n            setPatternTracks(pattern.id, tracks)\n        },\n        [pattern.id, setPatternTracks]\n    )\n\n    // set a new number of bars and fill all tracks with empty steps\n    // if greater than current or remove steps if lower.\n    const setBarsAndAdjustTracks = useCallback(\n        (newBars: number) => {\n            const newStepCount = newBars * 4 * 4\n\n            setBars(newBars)\n            setTracks(\n                pattern.tracks.map((track) => {\n                    const newSteps = track.steps.slice(0, newStepCount)\n                    for (let i = 0; i < newStepCount - steps; i++) {\n                        newSteps.push(0)\n                    }\n\n                    return {\n                        ...track,\n                        steps: newSteps,\n                    }\n                })\n            )\n        },\n        [pattern.tracks, steps, setBars, setTracks]\n    )\n\n    // double current bars, compared to `setBarsAndAdjustTracks`,\n    // this replicates existing steps\n    const doubleBars = useCallback(() => {\n        setBars((previous) => previous * 2)\n        setTracks(\n            pattern.tracks.map((track) => {\n                const newSteps = track.steps.slice()\n                track.steps.forEach((step) => {\n                    newSteps.push(step)\n                })\n\n                return {\n                    ...track,\n                    steps: newSteps,\n                }\n            })\n        )\n    }, [pattern.tracks, setBars, setTracks])\n\n    const toggleTrack = useCallback(\n        (trackId: string) => {\n            setTracks(\n                pattern.tracks.map((track) => {\n                    if (track.id !== trackId) return track\n\n                    return {\n                        ...track,\n                        isMuted: !track.isMuted,\n                    }\n                })\n            )\n        },\n        [pattern.tracks, setTracks]\n    )\n\n    // toggle a track step, which is just a boolean flag\n    // indicating if it's active or not\n    const toggleStep = useCallback(\n        (trackId: string, index: number) => {\n            setTracks(\n                pattern.tracks.map((track) => {\n                    if (track.id !== trackId) return track\n\n                    return {\n                        ...track,\n                        steps: track.steps.map((step, stepIndex) => {\n                            if (stepIndex === index) return step === 0 ? 1 : 0\n                            return step\n                        }),\n                    }\n                })\n            )\n        },\n        [pattern.tracks, setTracks]\n    )\n\n    const [isPlaying, setIsPlaying] = useState(false)\n    const play = useCallback(() => {\n        Tone.Transport.start()\n        setIsPlaying(true)\n    }, [setIsPlaying])\n    const stop = useCallback(() => {\n        Tone.Transport.stop()\n        setIsPlaying(false)\n    }, [setIsPlaying])\n\n    // we use a ref for tracks so that we can pass it to the\n    // main tick function, otherwise the tick function would\n    // be continuously re-created as we edit the steps\n    const tracksRef = useRef<TrackWithPlayer[]>()\n    useEffect(() => {\n        tracksRef.current = pattern.tracks\n    }, [pattern.tracks])\n\n    // main loop tick function, called by Tone scheduler\n    const tick = useCallback(\n        (time: number, index: number) => {\n            Tone.Draw.schedule(() => {\n                setStepIndex(index)\n            }, time)\n\n            if (tracksRef.current !== undefined) {\n                tracksRef.current.forEach((track) => {\n                    if (track.isMuted) return\n\n                    const shouldPlay = track.steps[index] === 1\n                    if (!shouldPlay) return\n\n                    track.player.start(time, 0)\n                })\n            }\n        },\n        [setStepIndex, tracksRef]\n    )\n\n    // create a new sequence each time the tick function is updated\n    // or the number of steps changes\n    useEffect(() => {\n        // @todo: add the ability to play the sequence from last time\n        const sequence = new Tone.Sequence(\n            tick,\n            Array.from({ length: steps }).map((_, index) => index),\n            '16n'\n        ).start()\n\n        return () => {\n            sequence.dispose()\n        }\n    }, [tick, steps])\n\n    return {\n        bars,\n        setBars: setBarsAndAdjustTracks,\n        doubleBars,\n        steps,\n        stepIndex,\n        setStepIndex,\n        tracks: pattern.tracks,\n        setTracks,\n        toggleTrack,\n        toggleStep,\n        isPlaying,\n        play,\n        stop,\n    }\n}\n","import { PropsWithChildren, useCallback } from 'react'\nimport { createPortal } from 'react-dom'\nimport styled from 'styled-components/macro'\nimport { rgba } from 'polished'\nimport { useEventListener } from './hooks/useEventListener'\n\ninterface ModalProps {\n    onClose: () => void\n    shouldCloseOnOutsideClick?: boolean\n    shouldCloseOnEscKey?: boolean\n}\n\nexport const Modal = ({\n    children,\n    onClose,\n    shouldCloseOnOutsideClick = true,\n    shouldCloseOnEscKey = true,\n}: PropsWithChildren<ModalProps>) => {\n    // Allows to close the modal using `ESC` key if `shouldCloseOnEscKey` is `true`.\n    const onKeydown = useCallback(\n        (event) => {\n            if (!shouldCloseOnEscKey) return\n\n            if (event.key === 'Escape' || event.key === 'Esc' /* IE */) {\n                onClose()\n            }\n        },\n        [onClose, shouldCloseOnEscKey]\n    )\n    useEventListener(document, 'keydown', onKeydown)\n\n    const handleOverlayClick = useCallback(() => {\n        if (!shouldCloseOnOutsideClick) {\n            return\n        }\n\n        onClose()\n    }, [onClose, shouldCloseOnOutsideClick])\n\n    // as Modal is a child of Overlay and clicking Overlay\n    // could close the modal depending on the `shouldCloseOnOutsideClick` property,\n    // we must prevent the click event on the modal itself from triggering the close handler.\n    const preventClosePropagation = useCallback((event) => event.stopPropagation(), [])\n\n    return createPortal(\n        <Overlay onClick={handleOverlayClick}>\n            <Container onClick={preventClosePropagation}>{children}</Container>\n        </Overlay>,\n        document.body\n    )\n}\n\nconst Overlay = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0;\n    left: 0;\n    box-sizing: border-box;\n    z-index: 100;\n    background-color: ${(props) => rgba(props.theme.colors.background, 0.66)};\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow-y: scroll;\n    user-select: none;\n`\n\nconst Container = styled.div`\n    position: relative;\n    z-index: 101;\n    min-width: 260px;\n    min-height: 120px;\n`\n","import { useEffect } from 'react'\n\ntype EventMap = DocumentEventMap | WindowEventMap\n\n/**\n * This hook can be used to attach event listener to the window or document,\n * it will take care of removing/updating the listener if it changes,\n * and will also remove the listener when the component it's attached\n * to is unmounted.\n */\nexport const useEventListener = <E extends keyof EventMap>(\n    target: Document | Window,\n    eventType: E,\n    listener: EventListener\n) => {\n    useEffect(() => {\n        if (target !== document && target !== window) {\n            throw new Error('target for useEventListener must be one of document or window.')\n        }\n\n        target.addEventListener(eventType, listener)\n\n        return () => {\n            target.removeEventListener(eventType, listener)\n        }\n    }, [target, eventType, listener])\n}\n","import { FiX } from 'react-icons/fi'\nimport { SquareIconButton } from './SquareIconButton'\nimport styled from 'styled-components/macro'\n\ninterface CloseButtonProps {\n    onClose: () => void\n}\n\nexport const CloseButton = ({ onClose }: CloseButtonProps) => {\n    return (\n        <Button onClick={onClose}>\n            <FiX />\n        </Button>\n    )\n}\n\nconst Button = styled(SquareIconButton)`\n    width: 18px;\n    height: 18px;\n    font-size: 12px;\n    border-radius: 1px;\n    color: ${(props) => props.theme.colors.textLight};\n\n    &:hover {\n        color: ${(props) => props.theme.colors.text};\n    }\n`\n","import { useCallback, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { FiPlus } from 'react-icons/fi'\nimport { RoundIconButton } from '../ui/controls/RoundIconButton'\nimport { Modal } from '../ui/Modal'\nimport { Enclosure } from '../ui/Enclosure'\nimport { HardwareButton } from '../ui/controls/HardwareButton'\nimport { ComponentHeader } from '../ui/ComponentHeader'\nimport { ComponentName, ComponentNameHighlight } from '../ui/ComponentName'\nimport { VSpacer } from '../ui/Spacer'\nimport { CloseButton } from '../ui/controls/CloseButton'\nimport { useAppStore } from '../useApp'\nimport { EffectType } from './definitions'\n\ninterface AddEffectProps {\n    channel: number\n}\n\nexport const AddEffect = ({ channel }: AddEffectProps) => {\n    const [isOpen, setIsOpen] = useState(false)\n    const openModal = useCallback(() => {\n        setIsOpen(true)\n    }, [setIsOpen])\n    const closeModal = useCallback(() => {\n        setIsOpen(false)\n    }, [setIsOpen])\n\n    const addEffectToChannel = useAppStore((state) => state.addEffectToChannel)\n    const addEffect = useCallback(\n        (effectType: EffectType) => {\n            closeModal()\n            addEffectToChannel(effectType, channel)\n        },\n        [addEffectToChannel, channel, closeModal]\n    )\n    const addDistortion = useCallback(() => {\n        addEffect('distortion')\n    }, [addEffect])\n    const addReverb = useCallback(() => {\n        addEffect('reverb')\n    }, [addEffect])\n\n    return (\n        <>\n            <RoundIconButton onClick={openModal}>\n                <FiPlus />\n            </RoundIconButton>\n            {isOpen && (\n                <Modal onClose={closeModal}>\n                    <Enclosure>\n                        <Header>\n                            <ComponentName>\n                                <ComponentNameHighlight>Add Effect</ComponentNameHighlight>\n                            </ComponentName>\n                            <CloseButton onClose={closeModal} />\n                        </Header>\n                        <VSpacer />\n                        <Content>\n                            <Button onClick={addDistortion}>Distortion</Button>\n                            <VSpacer size=\"small\" />\n                            <Button onClick={addReverb}>Reverb</Button>\n                        </Content>\n                        <VSpacer size=\"small\" />\n                    </Enclosure>\n                </Modal>\n            )}\n        </>\n    )\n}\n\nconst Header = styled(ComponentHeader)`\n    justify-content: space-between;\n`\n\nconst Content = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n`\n\nconst Button = styled(HardwareButton)`\n    width: 100%;\n    font-weight: 600;\n`\n","import { Fragment } from 'react'\nimport styled from 'styled-components/macro'\nimport { darken } from 'polished'\nimport { FiArrowDown } from 'react-icons/fi'\nimport { Effect } from '../effects/definitions'\nimport { useAppStore } from '../useApp'\nimport { AddEffect } from '../effects/AddEffect'\n\ninterface MixerChannelEffectsProps {\n    channel: number\n    effects: Effect[]\n}\n\nexport const MixerChannelEffects = ({ channel, effects }: MixerChannelEffectsProps) => {\n    const openEffect = useAppStore((state) => state.openEffect)\n\n    return (\n        <>\n            {effects.map((effect, effectIndex) => {\n                return (\n                    <Fragment key={effect.id}>\n                        <EffectLabel\n                            onClick={() => {\n                                openEffect(effect.id)\n                            }}\n                        >\n                            {effect.acronym}\n                        </EffectLabel>\n                        <EffectOutput>\n                            <FiArrowDown />\n                        </EffectOutput>\n                    </Fragment>\n                )\n            })}\n            <AddEffect channel={channel} />\n        </>\n    )\n}\n\nconst EffectLabel = styled.div`\n    background-color: ${(props) => darken(0.02, props.theme.enclosure.background)};\n    color: ${(props) => props.theme.colors.text};\n    font-size: 10px;\n    padding: 4px 6px;\n    border-radius: 2px;\n    max-width: 68px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: 3px;\n    cursor: pointer;\n    user-select: none;\n\n    &:hover {\n        color: ${(props) => props.theme.colors.accent};\n    }\n`\n\nconst EffectOutput = styled.div`\n    font-size: 10px;\n    margin-bottom: 3px;\n    color: ${(props) => props.theme.colors.textLight};\n`\n","import { useMemo } from 'react'\nimport { scaleLinear, ScaleLinear } from 'd3-scale'\n\nexport const useControlScale = ({\n    domain,\n    range,\n    isValid,\n    tickStep,\n    majorTickStep,\n}: {\n    domain: [number, number]\n    range: [number, number]\n    isValid: boolean\n    tickStep: number\n    majorTickStep: number\n}) => {\n    const domainMin = domain[0]\n    const domainMax = domain[1]\n\n    const rangeMin = range[0]\n    const rangeMax = range[1]\n\n    const scale: ScaleLinear<number, number> | undefined = useMemo(() => {\n        if (!isValid) return undefined\n\n        const linearScale = scaleLinear().domain([domainMin, domainMax]).range([rangeMin, rangeMax])\n        linearScale.clamp(true)\n\n        return linearScale\n    }, [isValid, domainMin, domainMax, rangeMin, rangeMax])\n\n    const ticks: [number, number, boolean][] = useMemo(() => {\n        if (scale === undefined) return []\n\n        return scale.ticks(scale.domain()[1] / tickStep).map((tickValue) => {\n            const tickX = scale(tickValue)\n            const tickMod = Number((((tickValue * 100) % (majorTickStep * 100)) / 100).toFixed(2))\n            const isMajor = tickMod === 0\n\n            return [tickValue, tickX, isMajor]\n        })\n    }, [scale, tickStep, majorTickStep])\n\n    return {\n        scale,\n        ticks,\n    }\n}\n","import styled from 'styled-components/macro'\nimport { useControlScale } from './useControlScale'\nimport { darken, lighten } from 'polished'\n\nconst TICK_SIZE = 6\nconst TICK_PADDING = 1\nconst OUTER_CIRCLE_THICKNESS = 3\n\ninterface KnobProps {\n    size: number\n    value: number\n    angleStart?: number\n    angleEnd?: number\n    tickStep?: number\n    majorTickStep?: number\n}\n\nexport const Knob = ({\n    size,\n    value,\n    angleStart = 45,\n    angleEnd = 315,\n    tickStep = 0.1,\n    majorTickStep = 0.5,\n}: KnobProps) => {\n    const { scale, ticks } = useControlScale({\n        domain: [0, 1],\n        range: [angleStart, angleEnd],\n        isValid: true,\n        tickStep,\n        majorTickStep,\n    })\n\n    const rotation = scale ? scale(value) : 0\n    const radius = (size - TICK_SIZE * 2 - OUTER_CIRCLE_THICKNESS * 2 - TICK_PADDING * 2) / 2\n\n    const tickY = radius + OUTER_CIRCLE_THICKNESS + TICK_PADDING\n\n    return (\n        <Container size={size}>\n            <Layer>\n                <OuterCircle radius={radius + OUTER_CIRCLE_THICKNESS} />\n            </Layer>\n            <Layer>\n                <MainCircle radius={radius} />\n            </Layer>\n            <Svg width={size} height={size}>\n                <g transform={`translate(${size / 2}, ${size / 2})`}>\n                    <g transform={`rotate(${rotation})`}>\n                        <Indicator cx={0} cy={radius * 0.36} r={1.5} />\n                    </g>\n                    {ticks.map(([tickValue, tickAngle, isMajor]) => (\n                        <g key={tickValue} transform={`rotate(${tickAngle})`}>\n                            <Tick\n                                isMajor={isMajor}\n                                y1={tickY}\n                                y2={tickY + (isMajor ? TICK_SIZE : TICK_SIZE * 0.7)}\n                            />\n                            <text y={80} style={{ fontSize: 10 }} textAnchor=\"middle\">\n                                {tickValue}\n                            </text>\n                        </g>\n                    ))}\n                </g>\n            </Svg>\n        </Container>\n    )\n}\n\nconst Container = styled.div<{\n    size: number\n}>`\n    width: ${(props) => props.size}px;\n    height: ${(props) => props.size}px;\n    position: relative;\n`\n\nconst Layer = styled.div`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`\n\nconst OuterCircle = styled.div<{\n    radius: number\n}>`\n    background-color: ${(props) => props.theme.enclosure.backgroundDark};\n    width: ${(props) => props.radius * 2}px;\n    height: ${(props) => props.radius * 2}px;\n    border-radius: ${(props) => props.radius}px;\n    box-shadow: inset 0 1px 1px ${(props) => darken(0.15, props.theme.enclosure.backgroundDark)};\n`\n\nconst MainCircle = styled.div<{\n    radius: number\n}>`\n    position: relative;\n    background-color: ${(props) => props.theme.enclosure.background};\n    background: linear-gradient(\n        180deg,\n        ${(props) => props.theme.colors.alternateMaterial.backgroundLight},\n        ${(props) => darken(0.04, props.theme.colors.alternateMaterial.backgroundDark)}\n    );\n    width: ${(props) => props.radius * 2}px;\n    height: ${(props) => props.radius * 2}px;\n    border-radius: ${(props) => props.radius}px;\n    box-shadow: inset 0 1px 0\n            ${(props) => lighten(0.1, props.theme.colors.alternateMaterial.backgroundLight)},\n        inset 0 -1px 0 ${(props) => darken(0.02, props.theme.colors.alternateMaterial.background)},\n        0 2px 1px ${(props) => props.theme.enclosure.innerCastShadowColorDark},\n        0 7px 5px ${(props) => props.theme.enclosure.innerCastShadowColorDark};\n\n    &:after {\n        content: '';\n        position: absolute;\n        width: ${(props) => props.radius * 2 * 0.7}px;\n        height: ${(props) => props.radius * 2 * 0.7}px;\n        top: ${(props) => props.radius * 2 * 0.15}px;\n        left: ${(props) => props.radius * 2 * 0.15}px;\n        border-radius: 50%;\n        background-color: ${(props) => props.theme.colors.alternateMaterial.background};\n        box-shadow: 0 -3px 3px ${(props) => lighten(0.1, props.theme.colors.alternateMaterial.backgroundLight)};\n    }\n`\n\nconst Svg = styled.svg`\n    position: absolute;\n    top: 0;\n    left: 0;\n`\n\nconst Indicator = styled.circle`\n    fill: ${(props) => darken(0.15, props.theme.colors.alternateMaterial.backgroundDark)};\n`\n\nconst Tick = styled.line<{\n    isMajor: boolean\n}>`\n    fill: none;\n    stroke-width: 1px;\n    stroke: ${(props) => props.theme.colors.textLight};\n    opacity: ${(props) => (props.isMajor ? 1 : 0.5)};\n`\n","import { useCallback, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { FiArrowRight, FiArrowRightCircle, FiVolume, FiVolumeX } from 'react-icons/fi'\nimport { LCDScreen, LCDScreenHighlightedText } from '../ui/LCDScreen'\nimport { Channel } from '../project/definitions'\nimport { MixerChannelEffects } from './MixerChannelEffects'\nimport { VSpacer } from '../ui/Spacer'\nimport { Knob } from '../ui/controls/Knob'\n\ninterface MixerChannelProps {\n    index: number\n    channel: Channel\n    isHighlighted: boolean\n}\n\nexport const MixerChannel = ({ index, channel, isHighlighted }: MixerChannelProps) => {\n    const [isMuted, setIsMuted] = useState(channel.channel.mute)\n\n    const toggleMute = useCallback(() => {\n        channel.channel.mute = !isMuted\n        setIsMuted(!isMuted)\n    }, [isMuted, setIsMuted, channel.channel])\n\n    return (\n        <Container>\n            <ChannelName isHighlighted={isHighlighted}>\n                <ChannelNameIcon isHighlighted={isHighlighted}>\n                    {!isHighlighted && <FiArrowRight />}\n                    {isHighlighted && <FiArrowRightCircle />}\n                </ChannelNameIcon>\n                <span>{index + 1}</span>\n            </ChannelName>\n            <VSpacer size=\"small\" />\n            <MuteIcon isMuted={isMuted} onClick={toggleMute}>\n                {isMuted && <FiVolumeX />}\n                {!isMuted && <FiVolume />}\n            </MuteIcon>\n            <VSpacer size=\"small\" />\n            <Knob size={40} value={0} />\n            <VSpacer size=\"small\" />\n            <ValueLabel>volume</ValueLabel>\n            <VSpacer size=\"xsmall\" />\n            <ValueScreen>\n                <LCDScreenHighlightedText>\n                    {isMuted && '---'}\n                    {!isMuted && channel.channel.volume.value}\n                </LCDScreenHighlightedText>\n            </ValueScreen>\n            <VSpacer size=\"small\" />\n            <ValueLabel>pan</ValueLabel>\n            <VSpacer size=\"xsmall\" />\n            <ValueScreen>\n                <LCDScreenHighlightedText>{channel.channel.pan.value}</LCDScreenHighlightedText>\n            </ValueScreen>\n            <VSpacer />\n            <ValueLabel>effects</ValueLabel>\n            <VSpacer size=\"small\" />\n            <MixerChannelEffects channel={index} effects={channel.effects} />\n        </Container>\n    )\n}\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 9px 6px;\n    position: relative;\n    background-color: ${(props) => props.theme.enclosure.backgroundAlt};\n    border-radius: 3px;\n`\n\nconst ChannelName = styled.div<{\n    isHighlighted: boolean\n}>`\n    display: flex;\n    width: 100%;\n    padding: 0 4px;\n    justify-content: space-between;\n    align-items: center;\n    font-family: ${(props) => props.theme.typography.headingFont};\n    color: ${(props) =>\n        props.isHighlighted ? props.theme.colors.text : props.theme.colors.textLight};\n    font-size: 11px;\n    text-transform: uppercase;\n`\n\nconst ChannelNameIcon = styled.div<{\n    isHighlighted: boolean\n}>`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 16px;\n    height: 16px;\n    font-size: ${(props) => (props.isHighlighted ? 16 : 14)}px;\n    color: ${(props) => props.theme.colors.textLight};\n`\n\nconst ValueLabel = styled.div`\n    font-size: 8px;\n    text-align: center;\n    text-transform: uppercase;\n    color: ${(props) => props.theme.colors.textLight};\n`\n\nconst ValueScreen = styled(LCDScreen)`\n    padding: 3px 0;\n    width: 50px;\n    text-align: center;\n`\n\nconst MuteIcon = styled.div<{\n    isMuted: boolean\n}>`\n    font-size: 16px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ${(props) => props.theme.colors.textLight};\n\n    &:hover {\n        color: ${(props) => props.theme.colors.text};\n    }\n`\n","import styled from 'styled-components/macro'\nimport { VSpacer } from '../ui/Spacer'\nimport { Desk } from '../ui/Desk'\nimport { Enclosure } from '../ui/Enclosure'\nimport { ComponentHeader } from '../ui/ComponentHeader'\nimport { ComponentName, ComponentNameHighlight } from '../ui/ComponentName'\nimport { MixerChannel } from './MixerChannel'\nimport { useAppStore } from '../useApp'\n\nexport const Mixer = () => {\n    const channels = useAppStore((state) => state.channels)\n    const highlightedChannel = useAppStore((state) => state.highlightedChannel)\n\n    return (\n        <Desk>\n            <Enclosure>\n                <ComponentHeader>\n                    <ComponentName>\n                        <ComponentNameHighlight>Mixer</ComponentNameHighlight>\n                    </ComponentName>\n                </ComponentHeader>\n                <VSpacer />\n                <Channels channels={channels.length}>\n                    {channels.map((channel, index) => (\n                        <MixerChannel\n                            key={index}\n                            index={index}\n                            channel={channel}\n                            isHighlighted={index === highlightedChannel}\n                        />\n                    ))}\n                </Channels>\n            </Enclosure>\n        </Desk>\n    )\n}\n\nconst Channels = styled.div<{\n    channels: number\n}>`\n    display: grid;\n    grid-template-columns: repeat(${(props) => props.channels}, 64px);\n    grid-column-gap: 6px;\n`\n","import { useCallback } from 'react'\nimport { FiArrowRight } from 'react-icons/fi'\nimport { VSpacer } from '../ui/Spacer'\nimport { ComponentHeader } from '../ui/ComponentHeader'\nimport { ComponentName, ComponentNameHighlight } from '../ui/ComponentName'\nimport { CloseButton } from '../ui/controls/CloseButton'\nimport { useAppStore } from '../useApp'\nimport { Effect } from './definitions'\nimport styled from 'styled-components/macro'\n\ninterface EffectHeaderProps {\n    effect: Effect\n}\n\nexport const EffectHeader = ({ effect }: EffectHeaderProps) => {\n    const closeEffect = useAppStore((state) => state.closeEffect)\n\n    const handleClose = useCallback(() => {\n        closeEffect(effect.id)\n    }, [closeEffect, effect.id])\n\n    return (\n        <>\n            <Header>\n                <EffectType>\n                    <FiArrowRight />\n                    <ComponentNameHighlight>{effect.type}</ComponentNameHighlight>\n                    <FiArrowRight />\n                </EffectType>\n                <CloseButton onClose={handleClose} />\n            </Header>\n            <VSpacer />\n        </>\n    )\n}\n\nconst Header = styled(ComponentHeader)`\n    justify-content: space-between;\n`\n\nconst EffectType = styled(ComponentName)`\n    svg {\n        &:first-child {\n            margin-right: 6px;\n        }\n        &:last-child {\n            margin-left: 6px;\n        }\n    }\n`\n","import styled from 'styled-components/macro'\n\nexport const NumberInput = styled.input`\n    font-family: ${(props) => props.theme.typography.monospacedFont};\n    border: 1px solid ${(props) => props.theme.enclosure.backgroundAlt};\n    background-color: ${(props) => props.theme.enclosure.backgroundAlt};\n    color: ${(props) => props.theme.colors.textLight};\n    padding: 5px 5px 5px 12px;\n    cursor: pointer;\n    font-size: 12px;\n    border-radius: 2px;\n    font-weight: 500;\n\n    &:focus {\n        cursor: auto;\n        outline: 0;\n        color: ${(props) => props.theme.colors.text};\n        box-shadow: 0 0 0 2px ${(props) => props.theme.enclosure.backgroundAlt};\n    }\n`\n","import React, { useCallback, useEffect, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { darken, lighten } from 'polished'\nimport { useMeasure } from '../hooks/useMeasure'\nimport { useControlScale } from './useControlScale'\n\ninterface SliderProps {\n    min?: number\n    max?: number\n    step?: number\n    precision?: number\n    tickStep?: number\n    majorTickStep?: number\n    value: number\n    onChange: (value: number) => void\n}\n\nexport const Slider = ({\n    min = 0,\n    max = 1,\n    step = 0.05,\n    precision,\n    tickStep = 0.05,\n    majorTickStep = 0.1,\n    value,\n    onChange,\n}: SliderProps) => {\n    const { measureRef, bounds } = useMeasure()\n\n    const { scale, ticks } = useControlScale({\n        domain: [min, max],\n        range: [0, bounds.width],\n        isValid: bounds.width > 0,\n        tickStep,\n        majorTickStep,\n    })\n\n    const [isActive, setIsActive] = useState(false)\n    const activate = useCallback(() => setIsActive(true), [setIsActive])\n    const deactivate = useCallback(() => setIsActive(false), [setIsActive])\n\n    const setValueFromPosition = useCallback(\n        (position: number) => {\n            if (scale) {\n                const clampedPosition = Math.min(\n                    Math.max(position, scale.range()[0]),\n                    scale.range()[1]\n                )\n                let newValue = Math.floor(scale.invert(clampedPosition) / step) * step\n                if (precision !== undefined) {\n                    newValue = Number(newValue.toFixed(precision))\n                }\n                onChange(newValue)\n            }\n        },\n        [scale, step, onChange]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: MouseEvent) => {\n            if (measureRef.current) {\n                const xOrigin = window.pageXOffset + measureRef.current.getBoundingClientRect().left\n                setValueFromPosition(event.pageX - xOrigin)\n            }\n        },\n        [measureRef, setValueFromPosition]\n    )\n\n    useEffect(() => {\n        const documentMouseMoveListener = (event: MouseEvent) => handleMouseMove(event)\n        const documentMouseUpListener: EventListener = () => deactivate()\n\n        if (isActive) {\n            document.addEventListener('mousemove', documentMouseMoveListener)\n            document.addEventListener('mouseup', documentMouseUpListener)\n        }\n\n        return () => {\n            document.removeEventListener('mousemove', documentMouseMoveListener)\n            document.removeEventListener('mouseup', documentMouseUpListener)\n        }\n    }, [isActive, measureRef, handleMouseMove, deactivate])\n\n    return (\n        <Container>\n            <TrackContainer ref={measureRef}>\n                <Track />\n                {scale && (\n                    <>\n                        <TrackFill width={scale(value)} />\n                        <Button x={scale(value)} onMouseDown={activate} />\n                    </>\n                )}\n            </TrackContainer>\n            <Ticks>\n                {scale && (\n                    <>\n                        {ticks.map(([tickValue, tickX, isMajor]) => (\n                            <Tick\n                                key={tickValue}\n                                style={{ left: `${tickX}px` }}\n                                isMajor={isMajor}\n                            />\n                        ))}\n                    </>\n                )}\n            </Ticks>\n        </Container>\n    )\n}\n\nconst Container = styled.div`\n    width: 100%;\n    padding: 0 12px;\n    user-select: none;\n`\n\nconst TrackContainer = styled.div`\n    position: relative;\n    width: 100%;\n    height: 18px;\n`\n\nconst Track = styled.div`\n    position: absolute;\n    top: calc(50% - 2px);\n    left: -2px;\n    width: calc(100% + 4px);\n    height: 4px;\n    background-color: ${(props) => props.theme.enclosure.backgroundDark};\n    border-radius: 2px;\n    box-shadow: inset 0 1px 0 ${(props) => darken(0.1, props.theme.enclosure.backgroundDark)},\n        0 -1px 0 ${(props) => props.theme.enclosure.backgroundDark},\n        0 1px 0 ${(props) => props.theme.enclosure.backgroundLight};\n`\n\nconst TrackFill = styled.div<{\n    width: number\n}>`\n    position: absolute;\n    top: calc(50% - 2px);\n    left: -2px;\n    width: ${(props) => props.width + 2}px;\n    height: 4px;\n    background-color: ${(props) => lighten(0.02, props.theme.enclosure.backgroundLight)};\n    border-radius: 2px 0 0 2px;\n    box-shadow: inset 0 1px 1px ${(props) => props.theme.enclosure.background};\n`\n\nconst Button = styled.div<{\n    x: number\n}>`\n    position: absolute;\n    top: calc(50% - 7px);\n    left: ${(props) => props.x}px;\n    margin-left: -12px;\n    width: 24px;\n    height: 14px;\n    background-color: ${(props) => lighten(0.03, props.theme.colors.alternateMaterial.background)};\n    border-radius: 2px;\n    cursor: pointer;\n    box-shadow: inset 0 -1px 0 ${(props) => props.theme.colors.alternateMaterial.background},\n        inset -1px 0 0 ${(props) => props.theme.colors.alternateMaterial.backgroundDark},\n        inset 1px 0 0 ${(props) => props.theme.colors.alternateMaterial.backgroundLight},\n        inset 0 3px 0 ${(props) => props.theme.colors.alternateMaterial.backgroundLight},\n        inset 0 4px 0\n            ${(props) => lighten(0.08, props.theme.colors.alternateMaterial.backgroundLight)},\n        inset 0 -3px 0 ${(props) => props.theme.colors.alternateMaterial.backgroundDark},\n        inset 0 -4px 0 ${(props) => darken(0.04, props.theme.colors.alternateMaterial.backgroundDark)},\n        0 0 0 1px ${(props) => props.theme.enclosure.innerCastShadowColorDark},\n        0 4px 2px ${(props) => props.theme.enclosure.innerCastShadowColor};\n`\n\nconst Ticks = styled.div`\n    position: relative;\n    height: 8px;\n`\n\nconst Tick = styled.span<{\n    isMajor: boolean\n}>`\n    display: block;\n    position: absolute;\n    top: 0;\n    width: 1px;\n    height: ${(props) => (props.isMajor ? 100 : 60)}%;\n    opacity: ${(props) => (props.isMajor ? 1 : 0.5)};\n    background-color: ${(props) => props.theme.colors.textLight};\n`\n","import { useRef, useState, useLayoutEffect } from 'react'\nimport ResizeObserver from 'resize-observer-polyfill'\n\nexport interface MeasureBounds {\n    left: number\n    top: number\n    width: number\n    height: number\n}\n\n/**\n * This hook measures a DOM node passed via the returned measureRef using a ResizeObserver.\n * The position and size is retrievable via the bounds property of the returned object once the\n * component has mounted.\n */\nexport const useMeasure = <E extends HTMLElement = HTMLDivElement>() => {\n    const requestAnimationFrameRef = useRef<number>()\n    const measureRef = useRef<E>(null)\n    const [bounds, setBounds] = useState<MeasureBounds>({\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0,\n    })\n    const [observer] = useState(\n        () =>\n            new ResizeObserver(([entry]) => {\n                // Calling setState here immediately leads to a ResizeObserver infinite loop\n                // because the observer calls this callback immediately after observe and so\n                // constantly reacts to itself.\n                // We therefore wrap it in a requestAnimationFrame to alleviate the issue.\n                // see: https://github.com/airbnb/visx/pull/335\n                requestAnimationFrameRef.current = requestAnimationFrame(() => {\n                    setBounds(entry.contentRect)\n                })\n            })\n    )\n\n    useLayoutEffect(() => {\n        if (measureRef.current) {\n            observer.observe(measureRef.current)\n        }\n\n        return () => {\n            if (requestAnimationFrameRef.current !== undefined) {\n                cancelAnimationFrame(requestAnimationFrameRef.current)\n            }\n\n            observer.disconnect()\n        }\n    }, [])\n\n    return { measureRef, bounds }\n}\n","import styled from 'styled-components/macro'\n\nexport const EffectControlLabel = styled.span`\n    display: flex;\n    flex-wrap: nowrap;\n    align-items: center;\n    font-size: 12px;\n    color: ${(props) => props.theme.colors.text};\n    white-space: nowrap;\n\n    svg {\n        color: ${(props) => props.theme.colors.accent};\n    }\n`\n","import { ReactNode } from 'react'\nimport styled from 'styled-components/macro'\nimport { VSpacer } from '../ui/Spacer'\n\ninterface EffectControlWithSliderProps {\n    label: ReactNode\n    value: ReactNode\n    slider: ReactNode\n}\n\nexport const EffectControlWithSlider = ({ label, value, slider }: EffectControlWithSliderProps) => {\n    return (\n        <>\n            <Container>\n                {label}\n                {value}\n            </Container>\n            <VSpacer size=\"xsmall\" />\n            <SliderContainer>{slider}</SliderContainer>\n        </>\n    )\n}\n\nconst Container = styled.div`\n    width: 176px;\n    display: grid;\n    margin: 0 12px;\n    grid-template-columns: 100px 76px;\n`\n\nconst SliderContainer = styled.div`\n    width: 200px;\n`\n","import { ChangeEvent, useCallback, useState } from 'react'\nimport * as Tone from 'tone'\nimport { FiDroplet } from 'react-icons/fi'\nimport { NumberInput } from '../ui/controls/NumberInput'\nimport { Slider } from '../ui/controls/Slider'\nimport { HSpacer } from '../ui/Spacer'\nimport { EffectControlLabel } from './EffectControlLabel'\nimport { EffectControlWithSlider } from './EffectControlWithSlider'\n\ninterface EffectWetControlProps {\n    effect: Tone.Reverb | Tone.Distortion\n}\n\nexport const EffectWetControl = ({ effect }: EffectWetControlProps) => {\n    const [wet, setWet] = useState(effect.wet.value)\n\n    const handleValueChange = useCallback(\n        (value: number) => {\n            effect.wet.value = value\n            setWet(value)\n        },\n        [effect, setWet]\n    )\n\n    const handleChange = useCallback(\n        (event: ChangeEvent<HTMLInputElement>) => {\n            handleValueChange(Number(event.target.value))\n        },\n        [handleValueChange]\n    )\n\n    return (\n        <>\n            <EffectControlWithSlider\n                label={\n                    <EffectControlLabel>\n                        <FiDroplet />\n                        <HSpacer size=\"xsmall\" />\n                        wet\n                    </EffectControlLabel>\n                }\n                value={\n                    <NumberInput\n                        type=\"number\"\n                        onChange={handleChange}\n                        value={wet}\n                        min={0}\n                        max={1}\n                        step={0.05}\n                    />\n                }\n                slider={\n                    <Slider\n                        value={wet}\n                        onChange={handleValueChange}\n                        step={0.05}\n                        precision={2}\n                        tickStep={0.1}\n                        majorTickStep={1}\n                    />\n                }\n            />\n        </>\n    )\n}\n","import styled from 'styled-components/macro'\nimport { ChangeEvent, useCallback, useState } from 'react'\nimport { FiClock, FiChevronsRight } from 'react-icons/fi'\nimport { Desk } from '../ui/Desk'\nimport { Enclosure } from '../ui/Enclosure'\nimport { EffectHeader } from './EffectHeader'\nimport { NumberInput } from '../ui/controls/NumberInput'\nimport { Reverb } from './definitions'\nimport { EffectWetControl } from './EffectWetControl'\nimport { HSpacer, VSpacer } from '../ui/Spacer'\nimport { Knob } from '../ui/controls/Knob'\nimport { EffectControlLabel } from './EffectControlLabel'\n\ninterface ReverbControlsProps {\n    reverb: Reverb\n}\n\nexport const ReverbControls = ({ reverb }: ReverbControlsProps) => {\n    const [preDelay, setPreDelay] = useState<number>(reverb.instance.preDelay as number)\n    const handlePreDelayChange = useCallback(\n        (event: ChangeEvent<HTMLInputElement>) => {\n            const newPreDelay = Number(event.target.value)\n            reverb.instance.preDelay = newPreDelay\n            setPreDelay(newPreDelay)\n        },\n        [setPreDelay, reverb.instance]\n    )\n\n    const [decay, setDecay] = useState<number>(reverb.instance.decay as number)\n    const handleDecayChange = useCallback(\n        (event: ChangeEvent<HTMLInputElement>) => {\n            const newDecay = Number(event.target.value)\n            reverb.instance.decay = newDecay\n            setDecay(newDecay)\n        },\n        [setDecay, reverb.instance]\n    )\n\n    return (\n        <Desk>\n            <Enclosure>\n                <EffectHeader effect={reverb} />\n                <Container>\n                    <Knobs>\n                        <Column>\n                            <NumberInput\n                                type=\"number\"\n                                onChange={handleDecayChange}\n                                value={decay}\n                                min={0.001}\n                                step={0.001}\n                            />\n                            <VSpacer size=\"small\" />\n                            <KnobContainer>\n                                <Knob size={70} value={decay} />\n                            </KnobContainer>\n                            <VSpacer size=\"small\" />\n                            <EffectControlLabel>\n                                <FiChevronsRight />\n                                <HSpacer size=\"xsmall\" />\n                                decay\n                            </EffectControlLabel>\n                        </Column>\n                        <Column>\n                            <NumberInput\n                                type=\"number\"\n                                onChange={handlePreDelayChange}\n                                value={preDelay}\n                                min={0}\n                                step={0.05}\n                            />\n                            <VSpacer size=\"small\" />\n                            <KnobContainer>\n                                <Knob size={50} value={preDelay} />\n                            </KnobContainer>\n                            <VSpacer size=\"small\" />\n                            <EffectControlLabel>\n                                <FiClock />\n                                <HSpacer size=\"xsmall\" />\n                                pre delay\n                            </EffectControlLabel>\n                        </Column>\n                    </Knobs>\n                    <VSpacer />\n                    <EffectWetControl effect={reverb.instance} />\n                </Container>\n            </Enclosure>\n        </Desk>\n    )\n}\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`\n\nconst Knobs = styled.div`\n    display: grid;\n    grid-template-columns: 100px 100px;\n    grid-column-gap: 12px;\n`\n\nconst Column = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    input {\n        max-width: 80px;\n    }\n`\n\nconst KnobContainer = styled.div`\n    display: flex;\n    align-items: center;\n    height: 70px;\n`\n","import { ChangeEvent, useCallback, useState } from 'react'\nimport { FiActivity } from 'react-icons/fi'\nimport { Desk } from '../ui/Desk'\nimport { Enclosure } from '../ui/Enclosure'\nimport { EffectHeader } from './EffectHeader'\nimport { NumberInput } from '../ui/controls/NumberInput'\nimport { Distortion } from './definitions'\nimport { EffectWetControl } from './EffectWetControl'\nimport { Slider } from '../ui/controls/Slider'\nimport { HSpacer, VSpacer } from '../ui/Spacer'\nimport { EffectControlLabel } from './EffectControlLabel'\nimport { EffectControlWithSlider } from './EffectControlWithSlider'\n\ninterface DistortionControlsProps {\n    distortion: Distortion\n}\n\nexport const DistortionControls = ({ distortion: distortionEffect }: DistortionControlsProps) => {\n    const [distortion, setDistortion] = useState<number>(distortionEffect.instance.distortion)\n    const handleDistortionValueChange = useCallback(\n        (value: number) => {\n            distortionEffect.instance.distortion = value\n            setDistortion(value)\n        },\n        [setDistortion, distortionEffect.instance]\n    )\n    const handleDistortionChange = useCallback(\n        (event: ChangeEvent<HTMLInputElement>) => {\n            handleDistortionValueChange(Number(event.target.value))\n        },\n        [handleDistortionValueChange]\n    )\n\n    return (\n        <Desk>\n            <Enclosure>\n                <EffectHeader effect={distortionEffect} />\n                <EffectControlWithSlider\n                    label={\n                        <EffectControlLabel>\n                            <FiActivity />\n                            <HSpacer size=\"xsmall\" />\n                            distortion\n                        </EffectControlLabel>\n                    }\n                    value={\n                        <NumberInput\n                            type=\"number\"\n                            onChange={handleDistortionChange}\n                            value={distortion}\n                            min={0}\n                            max={1}\n                            step={0.01}\n                        />\n                    }\n                    slider={\n                        <Slider\n                            value={distortion}\n                            step={0.01}\n                            precision={2}\n                            tickStep={0.1}\n                            majorTickStep={1}\n                            onChange={handleDistortionValueChange}\n                        />\n                    }\n                />\n                <VSpacer />\n                <EffectWetControl effect={distortionEffect.instance} />\n            </Enclosure>\n        </Desk>\n    )\n}\n","import { ReverbControls } from './ReverbControls'\nimport { DistortionControls } from './DistortionControls'\nimport { useAppStore } from '../useApp'\n\nexport const EffectsControls = () => {\n    const effects = useAppStore((state) => state.openedEffects)\n\n    return (\n        <>\n            {effects.map((effect) => {\n                if (effect.type === 'reverb') {\n                    return <ReverbControls key={effect.id} reverb={effect} />\n                }\n                if (effect.type === 'distortion') {\n                    return <DistortionControls key={effect.id} distortion={effect} />\n                }\n\n                // no component matching the pattern type available\n                return null\n            })}\n        </>\n    )\n}\n","import { useCallback, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { FiExternalLink } from 'react-icons/fi'\nimport { Modal } from './Modal'\nimport { HardwareButton } from './controls/HardwareButton'\nimport { Enclosure } from './Enclosure'\nimport { ComponentHeader } from './ComponentHeader'\nimport { ComponentName, ComponentNameHighlight } from './ComponentName'\nimport { CloseButton } from './controls/CloseButton'\nimport { HSpacer, VSpacer } from './Spacer'\nimport { demoProjects } from '../library/demoProjects'\nimport { useAppStore } from '../useApp'\n\nexport const WelcomeModal = () => {\n    const [isOpen, setIsOpen] = useState(true)\n    const closeModal = useCallback(() => {\n        setIsOpen(false)\n    }, [setIsOpen])\n\n    const loadProject = useAppStore((state) => state.loadProject)\n    const openDemoProject = useCallback(() => {\n        closeModal()\n        loadProject(demoProjects[0])\n    }, [loadProject, closeModal])\n\n    if (!isOpen) return null\n\n    return (\n        <Modal onClose={closeModal}>\n            <Enclosure>\n                <Header>\n                    <ComponentName>\n                        <ComponentNameHighlight>Welcome</ComponentNameHighlight>\n                    </ComponentName>\n                    <CloseButton onClose={closeModal} />\n                </Header>\n                <VSpacer />\n                <Message>\n                    <p>\n                        Welcome to <strong>Beats Brewer</strong>, this project is currently a\n                        prototype, meaning that some features are still missing, and things might\n                        break, sorry for that.\n                    </p>\n                    <p>\n                        For now, the best way to get started is to use one of the{' '}\n                        <strong>demo projects</strong> that you can find in the explorer.\n                    </p>\n                    <OpenDemoProjectContainer>\n                        <HardwareButton onClick={openDemoProject}>\n                            <strong>Open a demo project</strong>\n                            <HSpacer size=\"small\" />\n                            <FiExternalLink />\n                        </HardwareButton>\n                    </OpenDemoProjectContainer>\n                    <p>\n                        This is an open source project, and you can find the source code here:{' '}\n                        <a\n                            href=\"https://github.com/plouc/beats-brewer\"\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                        >\n                            https://github.com/plouc/beats-brewer\n                        </a>\n                        .\n                    </p>\n                    <p>\n                        Because this application uses audio,{' '}\n                        <strong>\n                            please make sure to check the volume of your speakers or headphones\n                        </strong>\n                        !\n                    </p>\n                </Message>\n            </Enclosure>\n        </Modal>\n    )\n}\n\nconst Header = styled(ComponentHeader)`\n    justify-content: space-between;\n`\n\nconst Message = styled.div`\n    width: 360px;\n    font-size: 12px;\n    line-height: 18px;\n\n    p {\n        margin: 0 0 9px;\n    }\n`\n\nconst OpenDemoProjectContainer = styled.div`\n    display: flex;\n    justify-content: center;\n    margin-bottom: 9px;\n\n    svg {\n        font-size: 14px;\n    }\n`\n","import styled from 'styled-components/macro'\nimport * as Tone from 'tone'\nimport { FiMusic } from 'react-icons/fi'\nimport { Desk } from './ui/Desk'\nimport { Enclosure } from './ui/Enclosure'\nimport { ComponentHeader } from './ui/ComponentHeader'\nimport { ComponentName, ComponentNameHighlight } from './ui/ComponentName'\nimport { HardwareButton } from './ui/controls/HardwareButton'\nimport { HSpacer, VSpacer } from './ui/Spacer'\nimport { Slider } from './ui/controls/Slider'\nimport { RoundIconButton } from './ui/controls/RoundIconButton'\nimport { SquareIconButton } from './ui/controls/SquareIconButton'\nimport { Knob } from './ui/controls/Knob'\nimport { ReverbControls } from './effects/ReverbControls'\nimport { DistortionControls } from './effects/DistortionControls'\n\nexport const DemoComponents = () => {\n    return (\n        <>\n            <Row>\n                <SampleComponent />\n            </Row>\n            <Row>\n                <ReverbControls\n                    reverb={{\n                        id: 'A',\n                        type: 'reverb',\n                        acronym: 'REV',\n                        wet: 0.6,\n                        decay: 1,\n                        preDelay: 0,\n                        instance: new Tone.Reverb(),\n                    }}\n                />\n                <DistortionControls\n                    distortion={{\n                        id: 'A',\n                        type: 'distortion',\n                        acronym: 'DIS',\n                        wet: 0.6,\n                        distortion: 1,\n                        instance: new Tone.Distortion(),\n                    }}\n                />\n            </Row>\n        </>\n    )\n}\n\nconst Row = styled.div`\n    display: flex;\n`\n\nexport const SampleComponent = () => {\n    return (\n        <Desk>\n            <Enclosure>\n                <ComponentHeader>\n                    <ComponentName>\n                        The&nbsp;\n                        <ComponentNameHighlight>Thing</ComponentNameHighlight>\n                    </ComponentName>\n                </ComponentHeader>\n                <VSpacer />\n                <div>\n                    <SampleComponentRow>\n                        <HardwareButton>Button</HardwareButton>\n                        <HSpacer size=\"small\" />\n                        <HardwareButton hasNext isPressed={true}>\n                            ON\n                        </HardwareButton>\n                        <HardwareButton hasPrevious>OFF</HardwareButton>\n                        <HSpacer size=\"small\" />\n                        <HardwareButton isPressed>Button</HardwareButton>\n                        <HSpacer size=\"small\" />\n                        <HardwareButton>\n                            <FiMusic />\n                            &nbsp;Button\n                        </HardwareButton>\n                        <HSpacer size=\"small\" />\n                        <HardwareButton isPressed>\n                            <FiMusic />\n                            &nbsp;Button\n                        </HardwareButton>\n                        <HSpacer size=\"small\" />\n                        <RoundIconButton>\n                            <FiMusic />\n                        </RoundIconButton>\n                        <HSpacer size=\"small\" />\n                        <SquareIconButton>\n                            <FiMusic />\n                        </SquareIconButton>\n                    </SampleComponentRow>\n                    <VSpacer />\n                    <Slider value={0.35} onChange={(value) => console.log(value)} />\n                    <VSpacer />\n                    <SampleComponentRow>\n                        <Knob size={60} value={0} />\n                        <Knob size={60} value={0.25} />\n                        <Knob size={60} value={0.5} />\n                        <Knob size={60} value={0.75} />\n                        <Knob size={60} value={1} />\n                    </SampleComponentRow>\n                </div>\n            </Enclosure>\n        </Desk>\n    )\n}\n\nconst SampleComponentRow = styled.div`\n    display: flex;\n    align-items: center;\n`\n","import React from 'react'\nimport styled, { ThemeProvider } from 'styled-components/macro'\nimport './ui/normalize.css'\nimport { GlobalStyle } from './ui/theme/GlobalStyle'\nimport { AppHeader } from './ui/AppHeader'\nimport { Explorer } from './explorer/Explorer'\nimport { Playlist } from './playlist/Playlist'\nimport { Sequencer } from './sequencer/Sequencer'\nimport { Mixer } from './mixer/Mixer'\n// import { Keyboard } from './keyboard/Keyboard'\n// import { Drums } from './drums/Drums'\nimport { EffectsControls } from './effects/EffectsControls'\nimport { DemoComponents } from './DemoComponents'\nimport { WelcomeModal } from './ui/WelcomeModal'\nimport { useAppStore } from './useApp'\n\nconst SHOW_DEMO_COMPONENTS = false\nconst SHOW_PLAYLIST = false\nconst SHOW_WELCOME_MODAL = true\n\nexport const App = () => {\n    const skin = useAppStore((state) => state.skin)\n    const project = useAppStore((state) => state.project)\n    const openedPattern = useAppStore((state) => {\n        if (!state.project) return undefined\n        if (state.openedPatternId === null) return undefined\n\n        return state.project.patterns.find((pattern) => pattern.id === state.openedPatternId)\n    })\n\n    return (\n        <ThemeProvider theme={skin.theme}>\n            <GlobalStyle />\n            {SHOW_WELCOME_MODAL && <WelcomeModal />}\n            <Layout>\n                <AppHeader />\n                <Explorer />\n                <Content>\n                    {SHOW_DEMO_COMPONENTS && <DemoComponents />}\n                    {SHOW_PLAYLIST && <Playlist />}\n                    {openedPattern && openedPattern.type === 'sequencer' && (\n                        <Row>\n                            <Sequencer pattern={openedPattern} />\n                        </Row>\n                    )}\n                    {project && (\n                        <Row>\n                            <Mixer />\n                            <EffectsControls />\n                        </Row>\n                    )}\n                    {/*\n                    <Keyboard />\n                    <Drums />\n                    */}\n                </Content>\n            </Layout>\n        </ThemeProvider>\n    )\n}\n\nconst Layout = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: grid;\n    grid-template-columns: 200px auto;\n    grid-template-rows: 46px auto;\n`\n\nconst Content = styled.div`\n    overflow-x: hidden;\n    overflow-y: auto;\n    padding: ${(props) => props.theme.sizes.mainGap / 2}px;\n`\n\nconst Row = styled.div`\n    display: flex;\n`\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n            getCLS(onPerfEntry)\n            getFID(onPerfEntry)\n            getFCP(onPerfEntry)\n            getLCP(onPerfEntry)\n            getTTFB(onPerfEntry)\n        })\n    }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { App } from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}